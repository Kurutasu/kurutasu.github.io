<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Memotaro</title>
    <description>I'm haltaro, a data scientist at an advertising agency in Tokyo, Japan. I love machine learning, marketing science, network engineering and shiba-inu:)</description>
    <link>http://localhost:4000/</link>
    <atom:link href="http://localhost:4000/feed.xml" rel="self" type="application/rss+xml"/>
    <pubDate>Tue, 10 Jul 2018 18:42:12 +0900</pubDate>
    <lastBuildDate>Tue, 10 Jul 2018 18:42:12 +0900</lastBuildDate>
    <generator>Jekyll v3.7.3</generator>
    
      <item>
        <title>Kaggle-apiを使ってKagglerの気分を味わう</title>
        <description>&lt;p&gt;ものすごく今更ながら，Kagglerになってみることにした．公式APIである&lt;a href=&quot;https://github.com/Kaggle/kaggle-api&quot;&gt;kaggle-api&lt;/a&gt;が便利らしいので，MacBookに導入した．&lt;/p&gt;

&lt;h1 id=&quot;環境&quot;&gt;環境&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;macOS Sierra, 10.12.6&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;手順&quot;&gt;手順&lt;/h1&gt;

&lt;p&gt;&lt;a href=&quot;http://www.currypurin.com/entry/2018/kaggle-api&quot;&gt;kaggle-apiというKaggle公式のapiの使い方をまとめます - kaggleを全力でやります&lt;/a&gt;を参考にさせて頂いた．&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/haltaro/0d2cef54e6117e58f9dc978aac5c6fbc.js&quot;&gt;&lt;/script&gt;

&lt;p&gt;Kaggleの&lt;code class=&quot;highlighter-rouge&quot;&gt;user profile&lt;/code&gt;に移動し，&lt;code class=&quot;highlighter-rouge&quot;&gt;Create API Token&lt;/code&gt;をクリック．取得した&lt;code class=&quot;highlighter-rouge&quot;&gt;kaggle.json&lt;/code&gt;を，&lt;code class=&quot;highlighter-rouge&quot;&gt;~/.kaggle/kaggle.json&lt;/code&gt;に移動．ここで，&lt;code class=&quot;highlighter-rouge&quot;&gt;kaggle.json&lt;/code&gt;の権限を変更する．&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/haltaro/8db084788f6eebac7f91ab0e7696a16a.js&quot;&gt;&lt;/script&gt;

&lt;h1 id=&quot;使い方&quot;&gt;使い方&lt;/h1&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/Kaggle/kaggle-api&quot;&gt;Kaggle/kaggle-api - GitHub&lt;/a&gt;を見るのが手っ取り早い．&lt;/p&gt;

&lt;h2 id=&quot;ヘルプ&quot;&gt;ヘルプ&lt;/h2&gt;

&lt;script src=&quot;https://gist.github.com/haltaro/0f20c2bdee7017c09c72aecda941c86f.js&quot;&gt;&lt;/script&gt;

&lt;h2 id=&quot;コンペティション一覧を取得&quot;&gt;コンペティション一覧を取得&lt;/h2&gt;

&lt;p&gt;2018年7月10日現在，次のような結果が出た．&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/haltaro/093d9f86000f25a0bbc7fb914ac83ba1.js&quot;&gt;&lt;/script&gt;

&lt;h2 id=&quot;コンペティションのデータを一括ダウンロード&quot;&gt;コンペティションのデータを一括ダウンロード&lt;/h2&gt;

&lt;p&gt;例えば，&lt;a href=&quot;https://www.kaggle.com/c/santander-value-prediction-challenge/data&quot;&gt;Santander Value Prediction Challenge&lt;/a&gt;のデータを一括ダウンロードしたい場合は，次のようにコマンドを打つ．&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/haltaro/4f78d053465087ec99d73d378daaaef6.js&quot;&gt;&lt;/script&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;-c&lt;/code&gt;：コンペティション名．&lt;code class=&quot;highlighter-rouge&quot;&gt;kaggle competitions list&lt;/code&gt;の&lt;code class=&quot;highlighter-rouge&quot;&gt;ref&lt;/code&gt;列のものを使う．&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;-p&lt;/code&gt;：ダウンロード先のパス．デフォルトだと，&lt;code class=&quot;highlighter-rouge&quot;&gt;~/.kaggle/competitions/&lt;/code&gt;．&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;他にもいろいろオプションがある．&lt;code class=&quot;highlighter-rouge&quot;&gt;kaggle competitions download -help&lt;/code&gt;で確認できる．&lt;/p&gt;

&lt;h2 id=&quot;コンペティションに予測結果をアップロード&quot;&gt;コンペティションに予測結果をアップロード&lt;/h2&gt;

&lt;p&gt;例えば，&lt;a href=&quot;https://www.kaggle.com/c/santander-value-prediction-challenge/data&quot;&gt;Santander Value Prediction Challenge&lt;/a&gt;に予測結果をアップロードしたい場合は，次のようにコマンドを打つ．&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/haltaro/ef6bbd733c1ffe1bda6ffb7c46026d2a.js&quot;&gt;&lt;/script&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;-c&lt;/code&gt;：コンペティション名．&lt;code class=&quot;highlighter-rouge&quot;&gt;kaggle competitions list&lt;/code&gt;の&lt;code class=&quot;highlighter-rouge&quot;&gt;ref&lt;/code&gt;列のものを使う．&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;-f&lt;/code&gt;：アップロードしたいファイル名．&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;-m&lt;/code&gt;：アップロード時のメッセージ．&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Tue, 10 Jul 2018 00:00:00 +0900</pubDate>
        <link>http://localhost:4000/2018/07/10/kaggle-api</link>
        <guid isPermaLink="true">http://localhost:4000/2018/07/10/kaggle-api</guid>
        
        
        <category>kaggle</category>
        
      </item>
    
      <item>
        <title>萩原淳一郎，基礎からわかる時系列分析</title>
        <description>&lt;p&gt;&lt;a href=&quot;http://amzn.asia/bTrcjv0&quot;&gt;萩原淳一郎，基礎からわかる時系列分析 ―Rで実践するカルマンフィルタ・MCMC・粒子フィルター&lt;/a&gt;をざっと読んで状態空間モデルを勉強した．&lt;/p&gt;

&lt;p&gt;線形・ガウス型の状態空間モデルの場合はカルマンフィルタで解析的に解けるが，一般状態空間モデルの場合は，フィルタリング分布・予測分布・平滑化分布の積分計算を必ずしも解析的に解けない．そこで，MCMCを用いた一括解法や，粒子フィルタによる逐次解法が提案されている．本書のレポジトリは，&lt;a href=&quot;https://github.com/hagijyun/tsbook&quot;&gt;hagijyun/tsbook - GitHub&lt;/a&gt;．&lt;/p&gt;

&lt;p&gt;カルマンフィルタ，MCMC，粒子フィルタの関係を理解することができた．次は&lt;a href=&quot;http://amzn.asia/1Y3ckY8&quot;&gt;PRMLの下巻&lt;/a&gt;を読み返して，MCMCの理論的背景を押さえておきたい．&lt;/p&gt;

&lt;h1 id=&quot;確率統計に関する基礎&quot;&gt;確率・統計に関する基礎&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;周辺化消去は，同時分布から外したい変数の影響を，あらかじめ平均的に考慮することに相当する．なるほど，腑に落ちた．&lt;/li&gt;
  &lt;li&gt;定常過程と非定常過程．
    &lt;ul&gt;
      &lt;li&gt;強定常：確率過程の確率分布が時点&lt;script type=&quot;math/tex&quot;&gt;t&lt;/script&gt;によらず一定．&lt;/li&gt;
      &lt;li&gt;弱定常：確率過程の平均・分散・自己共分散・自己相関係数が時点&lt;script type=&quot;math/tex&quot;&gt;t&lt;/script&gt;によらず一定．&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;時系列分析ひとめぐり&quot;&gt;時系列分析ひとめぐり&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;五数要約：最小値・25%値・中央値・75%値・最大値．Rだと&lt;code class=&quot;highlighter-rouge&quot;&gt;summary()&lt;/code&gt;で，Python（pandas）だと&lt;code class=&quot;highlighter-rouge&quot;&gt;DataFrame.describe()&lt;/code&gt;で確認できる．&lt;/li&gt;
  &lt;li&gt;自己相関係数．&lt;script type=&quot;math/tex&quot;&gt;\frac{\mathrm{Cov}[X_{t}, X_{t-k} ]}{\sqrt{\mathrm{Var}[X_t]}\sqrt{\mathrm{Var}[X_{t-k}]}}&lt;/script&gt;．&lt;/li&gt;
  &lt;li&gt;時系列データの成分分解：レベル＋傾き＋周期．&lt;/li&gt;
  &lt;li&gt;ホルト・ウィンタース法．指数加重型移動平均（EWMA：Exponentially Weighted Moving Average）の一種．Rでは，&lt;code class=&quot;highlighter-rouge&quot;&gt;HoltWinters()&lt;/code&gt;関数で実施できる．&lt;/li&gt;
  &lt;li&gt;残差を確認して，モデルの妥当性を分析する．残差の自己相関により，周期性を上手く捉えられたか確認できる．&lt;/li&gt;
  &lt;li&gt;状態空間モデルの解法の分類：
    &lt;ul&gt;
      &lt;li&gt;線形・ガウス型状態空間モデル：
        &lt;ul&gt;
          &lt;li&gt;一括型解法：ウィナーフィルタ．&lt;/li&gt;
          &lt;li&gt;逐次型解法：カルマンフィルタ．&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;一般状態空間モデル：
        &lt;ul&gt;
          &lt;li&gt;一括型解法：MCMCを利用した解法．&lt;/li&gt;
          &lt;li&gt;逐次型解法：粒子フィルタ．&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;状態空間モデル&quot;&gt;状態空間モデル&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;方程式による表現：
    &lt;ul&gt;
      &lt;li&gt;状態方程式&lt;sup id=&quot;fnref:state&quot;&gt;&lt;a href=&quot;#fn:state&quot; class=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;：&lt;script type=&quot;math/tex&quot;&gt;\mathbf{x}_t = f ( \mathbf{x}_{t-1}, \mathbf{w}_{t-1})&lt;/script&gt;&lt;/li&gt;
      &lt;li&gt;観測方程式：&lt;script type=&quot;math/tex&quot;&gt;y_t = h ( \mathbf{x}_{t}, v_{t})&lt;/script&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;確率分布による表現：
    &lt;ul&gt;
      &lt;li&gt;状態方程式に相当：&lt;script type=&quot;math/tex&quot;&gt;p(\mathbf{x}_t \mid \mathbf{x}_{0:t-1}, y_{0:t-1}) = p(\mathbf{x}_t \mid \mathbf{x}_{t-1})&lt;/script&gt;&lt;/li&gt;
      &lt;li&gt;観測方程式に相当：&lt;script type=&quot;math/tex&quot;&gt;p(y_t \mid \mathbf{x}_{0:t}, y_{0:t-1}) = p(y_t\mid \mathbf{x}_{t})&lt;/script&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;状態空間モデルの同時分布：&lt;script type=&quot;math/tex&quot;&gt;p(\mathbf{x}_{0:T}, y_{0:T}) = p(\mathbf{x}_0) \prod_{t=1}^{T} p(y_t\mid \mathbf{x}_{t}) p(\mathbf{x}_t \mid \mathbf{x}_{t-1})&lt;/script&gt;&lt;/li&gt;
  &lt;li&gt;ARIMAモデルと状態空間モデルは密接な関係がある．&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;状態空間モデルにおける状態の推定&quot;&gt;状態空間モデルにおける状態の推定&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;状態の周辺事後分布：&lt;script type=&quot;math/tex&quot;&gt;p(\mathbf{x}_{t'} \mid y_{1:t}) = \int p(\mathbf{x}_{0}, \mathbf{x}_{1}, \dots \mathbf{x}_{t'}, \dots \mid y_{1:t}) d\mathbf{x}_{t'以外}&lt;/script&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;script type=&quot;math/tex&quot;&gt;% &lt;![CDATA[
t' &lt; t %]]&gt;&lt;/script&gt;：平滑化分布&lt;/li&gt;
      &lt;li&gt;&lt;script type=&quot;math/tex&quot;&gt;t' = t&lt;/script&gt;：フィルタリング分布&lt;/li&gt;
      &lt;li&gt;&lt;script type=&quot;math/tex&quot;&gt;t' &gt; t&lt;/script&gt;：予測分布&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;フィルタリング分布：&lt;script type=&quot;math/tex&quot;&gt;p(\mathbf{x}_{t} \mid y_{1:t}) = p(\mathbf{x}_{t} \mid y_{1:t-1}) \frac{p(y_{t} \mid \mathbf{x}_{t})}{p(y_{t} \mid y_{1:t-1})}&lt;/script&gt;
    &lt;ul&gt;
      &lt;li&gt;モデルの状態方程式&lt;script type=&quot;math/tex&quot;&gt;p(y_{t} \mid \mathbf{x}_{t})&lt;/script&gt;&lt;sup id=&quot;fnref:mislead&quot;&gt;&lt;a href=&quot;#fn:mislead&quot; class=&quot;footnote&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;と，以下の一期先予測分布&lt;script type=&quot;math/tex&quot;&gt;p(\mathbf{x}_{t} \mid y_{1:t-1})&lt;/script&gt;，一期先予測尤度&lt;script type=&quot;math/tex&quot;&gt;p(y_{t} \mid y_{1:t-1})&lt;/script&gt;からなる．直感的には，一期先予測分布を観測方程式で補正して，一期先予測尤度で正規化したもの．&lt;/li&gt;
      &lt;li&gt;一期先予測分布： &lt;script type=&quot;math/tex&quot;&gt;p(\mathbf{x}_{t} \mid y_{1:t-1}) = \int p(\mathbf{x}_{t} \mid \mathbf{x}_{t-1}) p(\mathbf{x}_{t} \mid y_{1:t-1}) d\mathbf{x}_{t-1}&lt;/script&gt;&lt;/li&gt;
      &lt;li&gt;一期先予測尤度&lt;sup id=&quot;fnref:likelihood&quot;&gt;&lt;a href=&quot;#fn:likelihood&quot; class=&quot;footnote&quot;&gt;3&lt;/a&gt;&lt;/sup&gt;：&lt;script type=&quot;math/tex&quot;&gt;p(y_{t} \mid y_{1:t-1}) = \int p(y_t \mid \mathbf{x}_{t} ) p(\mathbf{x}_{t} \mid y_{1:t-1}) d\mathbf{x}_{t-1}&lt;/script&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;予測分布：
    &lt;ul&gt;
      &lt;li&gt;定式化：&lt;script type=&quot;math/tex&quot;&gt;p(\mathbf{x}_{t+k} \mid y_{1:t}) = \int p(\mathbf{x}_{t+k} \mid \mathbf{x}_{t+k-1}) p(\mathbf{x}_{t+k-1} \mid y_{1:t}) d\mathbf{x}_{t+k-1}&lt;/script&gt;&lt;/li&gt;
      &lt;li&gt;一期先予測分布をもとに，状態方程式に基いて時間順方向への遷移を&lt;script type=&quot;math/tex&quot;&gt;k-1&lt;/script&gt;解繰り返したもの．&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;平滑化分布：
    &lt;ul&gt;
      &lt;li&gt;定式化：&lt;script type=&quot;math/tex&quot;&gt;p(\mathbf{x}_{t} \mid y_{1:T}) = p(\mathbf{x}_{t} \mid y_{1:t}) \int \frac{p(\mathbf{x}_{t+1} \mid \mathbf{x}_{t})}{p(\mathbf{x}_{t+1} \mid y_{1:t})} p(\mathbf{x}_{t+1} \mid y_{1:T}) d \mathbf{x}_{t+1}&lt;/script&gt;&lt;/li&gt;
      &lt;li&gt;&lt;script type=&quot;math/tex&quot;&gt;p(\mathbf{x}_{t} \mid y_{1:t})&lt;/script&gt;はフィルタリング分布，&lt;script type=&quot;math/tex&quot;&gt;p(\mathbf{x}_{t+1} \mid \mathbf{x}_{t})&lt;/script&gt;は状態方程式，&lt;script type=&quot;math/tex&quot;&gt;p(\mathbf{x}_{t+1} \mid y_{1:t})&lt;/script&gt;は予測分布，&lt;script type=&quot;math/tex&quot;&gt;p(\mathbf{x}_{t+1} \mid y_{1:T})&lt;/script&gt;は1時点先の平滑化分布．&lt;/li&gt;
      &lt;li&gt;平滑化分布は，フィルタリング分布を再帰的に補正したもの．&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;パラメータ集合を&lt;script type=&quot;math/tex&quot;&gt;\mathbf{\theta}&lt;/script&gt;とすると，対数尤度は&lt;script type=&quot;math/tex&quot;&gt;l(\mathbf{\theta}) = \sum_{t=1}^{T} \mathrm{log} p( y_t \mid y_{1:t-1} ; \mathbf{\theta})&lt;/script&gt;．
    &lt;ul&gt;
      &lt;li&gt;一期先予測尤度が含まれているため，特定のデータに基づきながら，過去の情報のみから見洗の値を当てる際の予測能力を踏まえた指標になっている．&lt;/li&gt;
      &lt;li&gt;この式には状態が登場しないため，周辺尤度あるいは対数周辺尤度と呼ばれることがある．&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;状態空間モデルにおけるパラメータの扱い．
    &lt;ul&gt;
      &lt;li&gt;&lt;script type=&quot;math/tex&quot;&gt;\mathbf{\theta}&lt;/script&gt;が確率変数でない：&lt;script type=&quot;math/tex&quot;&gt;\mathrm{argmax}_{\mathbf{\theta}} l(\mathbf{\theta})&lt;/script&gt;を準ニュートン法やEMアルゴリズムで求める．&lt;/li&gt;
      &lt;li&gt;&lt;script type=&quot;math/tex&quot;&gt;\mathbf{\theta}&lt;/script&gt;が確率変数：&lt;script type=&quot;math/tex&quot;&gt;\mathrm{argmax}_{\mathbf{\theta}} p(\mathbf{\theta} \mid y_{1:t}) \propto \mathrm{argmax}_{\mathbf{\theta}} \{ p(y_{1:t} \mid \mathbf{\theta} ) +  p(\mathbf{\theta} ) \}&lt;/script&gt;をMAP推定で求める．&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;パラメータを確率変数として扱う場合は，たとえもともと線形ガウス型の状態空間モデルであっても，一般状態空間モデルになる．つまり，ウィナーフィルタやカルマンフィルタでは直接解を求められない．&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;線形ガウス型状態空間モデルの一括解法&quot;&gt;線形・ガウス型状態空間モデルの一括解法&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;ウィナーフィルタは定常な時系列を前提としている．&lt;/li&gt;
  &lt;li&gt;ウィナーフィルタはスペクトル分解を使って定式化できる．詳細は割愛する．&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;線形ガウス型状態空間モデルの逐次解法&quot;&gt;線形・ガウス型状態空間モデルの逐次解法&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;カルマンフィルタは，推定すべきデータの真値と点推定値の間の平均二乗誤差を最小にする逐次推定法である．
    &lt;ul&gt;
      &lt;li&gt;状態方程式：&lt;script type=&quot;math/tex&quot;&gt;\mathbf{x}_t = \mathbf{G}_t \mathbf{x}_{t-1} + \mathbf{w}_t&lt;/script&gt;，&lt;script type=&quot;math/tex&quot;&gt;\mathbf{w}_t \sim \mathcal{N} (\mathbf{0}, \mathbf{W}_t)&lt;/script&gt;&lt;/li&gt;
      &lt;li&gt;観測方程式：&lt;script type=&quot;math/tex&quot;&gt;y_t = \mathbf{F}_t \mathbf{x}_t + v_t&lt;/script&gt;，&lt;script type=&quot;math/tex&quot;&gt;v_t \sim \mathcal{N} (0, V_t)&lt;/script&gt;&lt;/li&gt;
      &lt;li&gt;初期状態：&lt;script type=&quot;math/tex&quot;&gt;\mathbf{x}_0 \sim \mathcal{N} (\mathbf{m}_0, \mathbf{C}_0)&lt;/script&gt;&lt;/li&gt;
      &lt;li&gt;パラメータ：&lt;script type=&quot;math/tex&quot;&gt;\mathbf{\theta} = \{\mathbf{G}_t, \mathbf{F}_t, \mathbf{W}_t, V_t, \mathbf{m}_0, \mathbf{C}_0 \}&lt;/script&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;上記の前提でフィルタリング分布・予測分布・平滑化分布を計算すると，逐次更新式を得る．詳細は割愛する．&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;一般状態空間モデルの一括解法&quot;&gt;一般状態空間モデルの一括解法&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;フィルタリング分布，予測分布，および平滑化分布には多次元の積分計算が含まれる．線形・ガウス型状態空間モデルの場合は，&lt;strong&gt;幸運にも&lt;/strong&gt; 解析的に解けたが，一般状態空間モデルの場合は必ずしも解析的に解けないため，工夫が必要：
    &lt;ul&gt;
      &lt;li&gt;グリッドフィルタ：数値積分を活用するアプローチ．&lt;/li&gt;
      &lt;li&gt;重点サンプリング：ラプラス近似を利用して，一般状態空間モデルにおける分布を線形・ガウス型状態空間モデルにおける分布で近似するアプローチ．&lt;/li&gt;
      &lt;li&gt;MCMC（マルコフ連鎖モンテカルロ法；Markov chain Monte Carlo）：求めたい分布からのサンプルを直接生成するアプローチ．&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;ギブス法によるMCMC：
    &lt;ol&gt;
      &lt;li&gt;&lt;script type=&quot;math/tex&quot;&gt;\mathbf{\theta^{(0)}}&lt;/script&gt;を初期化する．&lt;/li&gt;
      &lt;li&gt;&lt;strong&gt;FOR&lt;/strong&gt; &lt;script type=&quot;math/tex&quot;&gt;i = \{1, \dots, I \}&lt;/script&gt;:
        &lt;ol&gt;
          &lt;li&gt;&lt;script type=&quot;math/tex&quot;&gt;p ( \mathbf{x}_{0:T} \mid \mathbf{\theta} \! = \! \mathbf{\theta}^{(i-1)}, y_{1:T})&lt;/script&gt;から&lt;script type=&quot;math/tex&quot;&gt;\mathbf{x}_{0:T}^{(i)}&lt;/script&gt;をサンプリングする．&lt;/li&gt;
          &lt;li&gt;&lt;script type=&quot;math/tex&quot;&gt;p ( \mathbf{\theta} \mid \mathbf{x}_{0:T} \! = \! \mathbf{x}_{0:T}^{(i)}, y_{1:T})&lt;/script&gt;から&lt;script type=&quot;math/tex&quot;&gt;\mathbf{\theta}^{(i)}&lt;/script&gt;をサンプリングする．&lt;/li&gt;
        &lt;/ol&gt;
      &lt;/li&gt;
    &lt;/ol&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;1-1&lt;/code&gt;の試行において，線形・ガウス型状態空間モデルに従う場合は，FFBS（前向きフィルタ後ろ向きサンプリング；Forward Filtering Backward Sampling）で効率的にサンプリングできる．&lt;/li&gt;
  &lt;li&gt;FFBSアルゴリズムは，時間順方向にカルマンフィルタをかけたあとで，時間逆方向にカルマン平滑化に基づいたサンプリングを行う．シミュレーション平滑化と呼ばれることもある．&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;一般状態空間モデルの逐次解法&quot;&gt;一般状態空間モデルの逐次解法&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;カルマンフィルタの拡張：
    &lt;ul&gt;
      &lt;li&gt;拡張カルマンフィルタ&lt;/li&gt;
      &lt;li&gt;アンセンテッドカルマンフィルタ&lt;/li&gt;
      &lt;li&gt;アンサンブルカルマンフィルタ&lt;/li&gt;
      &lt;li&gt;&lt;strong&gt;粒子フィルタ&lt;/strong&gt;：本書で紹介する．&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;重点サンプリング
    &lt;ul&gt;
      &lt;li&gt;&lt;script type=&quot;math/tex&quot;&gt;p(x)&lt;/script&gt;からサンプリング可能な場合：&lt;script type=&quot;math/tex&quot;&gt;\mathrm{E}[ f(\mathbf{x})] \approx \frac{1}{N}\sum_{n=1}^{N} f (\mathbf{x}^{(n)})&lt;/script&gt;&lt;/li&gt;
      &lt;li&gt;&lt;script type=&quot;math/tex&quot;&gt;p(x)&lt;/script&gt;の代わりに&lt;script type=&quot;math/tex&quot;&gt;q(x)&lt;/script&gt;からサンプリングする場合：&lt;script type=&quot;math/tex&quot;&gt;\mathrm{E}[ f(\mathbf{x})] \approx \frac{1}{N}\sum_{n=1}^{N} w(\mathbf{x}^{(n)}) f (\mathbf{x}^{(n)})&lt;/script&gt;&lt;/li&gt;
      &lt;li&gt;ただし，&lt;script type=&quot;math/tex&quot;&gt;w(\mathbf{x}^{(n)}) = \frac{p(\mathbf{x}^{(n)})}{q(\mathbf{x}^{(n)})}&lt;/script&gt;を満たし，重点関数と呼ばれる．&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;粒子フィルタリング：
    &lt;ol&gt;
      &lt;li&gt;時点&lt;script type=&quot;math/tex&quot;&gt;t-1&lt;/script&gt;のフィルタリング分布：&lt;script type=&quot;math/tex&quot;&gt;\{ \mathbf{x}_{t-1}^{(n)}, w_{t-1}^{(n)} \}_{n=1}^N&lt;/script&gt;&lt;/li&gt;
      &lt;li&gt;時点&lt;script type=&quot;math/tex&quot;&gt;t&lt;/script&gt;において，&lt;strong&gt;FOR&lt;/strong&gt; &lt;script type=&quot;math/tex&quot;&gt;n = \{1, \dots, N \}&lt;/script&gt;：
        &lt;ol&gt;
          &lt;li&gt;実現値を更新：&lt;script type=&quot;math/tex&quot;&gt;q \left( \mathbf{x}_{t} \mid \mathbf{x}_{0:t-1}^{(n)}, y_{1:t} \right)&lt;/script&gt;から&lt;script type=&quot;math/tex&quot;&gt;\mathbf{x}_{t}^{(n)}&lt;/script&gt;をサンプリング．&lt;/li&gt;
          &lt;li&gt;重みを更新：&lt;script type=&quot;math/tex&quot;&gt;w_t^{(n)} \leftarrow \frac{p\left(\mathbf{x}_t^{(n)} \mid \mathbf{x}_{t-1}^{(n)} \right) p \left( y_t \mid y_{1:t-1}, \mathbf{x}_t^{(n)} \right)}{q\left( \mathbf{x}_t^{(n)} \mid \mathbf{x}_{0:t-1}^{(n)}, y_{1:t} \right)}&lt;/script&gt;．&lt;/li&gt;
        &lt;/ol&gt;
      &lt;/li&gt;
      &lt;li&gt;重みの規格化：&lt;script type=&quot;math/tex&quot;&gt;w_t^{(n)} \leftarrow \frac{w_t^{(n)}}{\sum_{n=1}^N w_{t}^{(n)}}&lt;/script&gt;&lt;/li&gt;
      &lt;li&gt;&lt;script type=&quot;math/tex&quot;&gt;w_t^{(n)}&lt;/script&gt;大きさに応じて，&lt;script type=&quot;math/tex&quot;&gt;x_t^{(n)}&lt;/script&gt;を復元抽出．&lt;/li&gt;
      &lt;li&gt;時点&lt;script type=&quot;math/tex&quot;&gt;t&lt;/script&gt;のフィルタリング分布：&lt;script type=&quot;math/tex&quot;&gt;　\{ \mathbf{x}_t^{(n)}, w_{t}^{(n)} \}_{n=1}^{N}&lt;/script&gt;．&lt;/li&gt;
    &lt;/ol&gt;
  &lt;/li&gt;
  &lt;li&gt;フィルタリング分布の一般式と，次のように対応している．
    &lt;ul&gt;
      &lt;li&gt;一期先予測分布：&lt;script type=&quot;math/tex&quot;&gt;w_{t-1}^{(n)} p \left(\mathbf{x}_t^{(n)} \mid \mathbf{x}_{t-1}^{(n)} \right)&lt;/script&gt;&lt;/li&gt;
      &lt;li&gt;一期先予測尤度：重みの規格化．&lt;/li&gt;
      &lt;li&gt;フィルタリング分布：一期先予測分布&lt;script type=&quot;math/tex&quot;&gt;w_{t-1}^{(n)} p \left(\mathbf{x}_t^{(n)} \mid \mathbf{x}_{t-1}^{(n)} \right)&lt;/script&gt;を&lt;script type=&quot;math/tex&quot;&gt;p\left( y_t \mid y_{1:t-1}, \mathbf{x}_{t}^{(n)} \right)&lt;/script&gt;で補正&lt;sup id=&quot;fnref:particle&quot;&gt;&lt;a href=&quot;#fn:particle&quot; class=&quot;footnote&quot;&gt;4&lt;/a&gt;&lt;/sup&gt;．&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;提案分布&lt;script type=&quot;math/tex&quot;&gt;q \left(\mathbf{x}_{t}^{(n)} \mid \mathbf{x}_{t-1}^{(n)} \right)&lt;/script&gt;として，状態方程式&lt;script type=&quot;math/tex&quot;&gt;p \left(\mathbf{x}_{t}^{(n)} \mid \mathbf{x}_{t-1}^{(n)} \right)&lt;/script&gt;を用いると，重みの更新式は非常に簡単になる．この条件の粒子フィルタをブートストラップフィルタ，あるいはモンテカルロフィルタと呼ぶ．&lt;/li&gt;
  &lt;li&gt;粒子数が有限の場合，リサンプリングにより近似性能の劣化を防ぐことができる．&lt;/li&gt;
  &lt;li&gt;粒子予測：重みを更新せず，実現値&lt;script type=&quot;math/tex&quot;&gt;x_{t+k}^{(n)}&lt;/script&gt;を状態方程式で逐次的に更新することで，未来の点を予測できる．これは，粒子フィルタリングにおいて観測値&lt;script type=&quot;math/tex&quot;&gt;y_{t+k}&lt;/script&gt;が存在しない（欠測）場合と等価．&lt;/li&gt;
  &lt;li&gt;粒子平滑化：
    &lt;ul&gt;
      &lt;li&gt;北川アルゴリズム：過去の粒子に対して，現時点の規範でリサンプリングする．原理的には任意の過去の時点まで平滑化可能だが，リサンプリングによる粒子の退化が問題となる．SIR平滑化，固定ラグ平滑化，廉価版平滑化とも呼ばれる．&lt;/li&gt;
      &lt;li&gt;前向きフィルタ後ろ向きシミュレーション（FFBS：Forward Filtering Backward Simulation）アルゴリズム：フィルタリング分布の&lt;script type=&quot;math/tex&quot;&gt;w_t^{(n)}&lt;/script&gt;を再帰的に補正する．&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;推定精度向上のためのテクニック：
    &lt;ul&gt;
      &lt;li&gt;補助粒子フィルタ：現在の観測値の影響を考慮したリサンプリング処理が，実現値や重み更新より&lt;strong&gt;先に&lt;/strong&gt;行われる．&lt;/li&gt;
      &lt;li&gt;リュウ・ウエストフィルタ：補助粒子フィルタの適用例．粒子フィルタを用いて，状態とパラメータをあわせて推定する．カーネル平滑化を用いて，パラメータの推定値の分散を増大させることなく実現値をリフレッシュする．&lt;/li&gt;
      &lt;li&gt;ラオ・ブラックウェル化：一般化線形モデルにおいて，部分的に線形・ガウス型状態空間モデルが成り立っているとき，カルマンフィルタと粒子フィルタを組み合わせる手法．例えば，線形・ガウス型状態空間モデルのパラメータが未知の場合などがこれに該当する．&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;一般状態空間モデルにおける応用的な分析例&quot;&gt;一般状態空間モデルにおける応用的な分析例&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;本章では，構造変化について扱う．
    &lt;ul&gt;
      &lt;li&gt;変化点が既知：カルマンフィルタ&lt;/li&gt;
      &lt;li&gt;変化点が未知：粒子フィルタ，MCMC&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;未知の変化点を実時間で検出するために，粒子フィルタを用いる．状態雑音の分散に対する時変の倍率が特定の閾値を超えた際に，構造変化が発生したと考える．&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;footnotes&quot;&gt;
  &lt;ol&gt;
    &lt;li id=&quot;fn:state&quot;&gt;
      &lt;p&gt;システム方程式とも呼ばれる． &lt;a href=&quot;#fnref:state&quot; class=&quot;reversefootnote&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:mislead&quot;&gt;
      &lt;p&gt;書籍中，&lt;script type=&quot;math/tex&quot;&gt;p(y_t \mid \mathbf{x}_t)&lt;/script&gt;を尤度と呼ぶことがあり，一期先予測尤度と混同してハマった． &lt;a href=&quot;#fnref:mislead&quot; class=&quot;reversefootnote&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:likelihood&quot;&gt;
      &lt;p&gt;なぜ尤度と呼ぶんだろう．まだ腑に落ちてない． &lt;a href=&quot;#fnref:likelihood&quot; class=&quot;reversefootnote&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:particle&quot;&gt;
      &lt;p&gt;一般的な状態空間モデルの定式化では&lt;strong&gt;一期先予測分布を観測方程式で補正&lt;/strong&gt;していた． &lt;a href=&quot;#fnref:particle&quot; class=&quot;reversefootnote&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;
</description>
        <pubDate>Sat, 07 Jul 2018 00:00:00 +0900</pubDate>
        <link>http://localhost:4000/2018/07/07/time-series</link>
        <guid isPermaLink="true">http://localhost:4000/2018/07/07/time-series</guid>
        
        
        <category>statistics</category>
        
      </item>
    
      <item>
        <title>DMM英会話受講メモ：2018年6月</title>
        <description>&lt;p&gt;&lt;a href=&quot;http://eikaiwa.dmm.com/&quot;&gt;DMM英会話&lt;/a&gt;の受講メモ．12回/30日なので，4割程度の実施率．仕事の忙しさを考えると，このあたりが現実的な数字かもしれない．&lt;/p&gt;

&lt;h1 id=&quot;20180609&quot;&gt;20180609&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://app.eikaiwa.dmm.com/daily-news/article/gamers-push-limits-of-scientific-research/m0I8AOPhEeeyorvShZ0_nQ&quot;&gt;Gamers Push Limits of Scientific Research&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;tweak：a slight change to something in order to improve it&lt;/li&gt;
  &lt;li&gt;invaluable：extremely useful&lt;/li&gt;
  &lt;li&gt;outreach：the practice of providing help and advice to people before they have to ask for it&lt;/li&gt;
  &lt;li&gt;二週間ぶりの英会話．口が全然動かない．リハビリが必要．&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;20180610&quot;&gt;20180610&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://app.eikaiwa.dmm.com/daily-news/article/things-your-dog-might-know/a0fAws5OEeeULl-V0Jfpkg&quot;&gt;Things Your Dog Might Know&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;tilt: 傾き&lt;/li&gt;
  &lt;li&gt;magnetism: 磁気&lt;/li&gt;
  &lt;li&gt;breed: 品種&lt;/li&gt;
  &lt;li&gt;deductive: using information about things that are generally true in order to understand something specific&lt;/li&gt;
  &lt;li&gt;deception: the act of deliberately trying to trick someone&lt;/li&gt;
  &lt;li&gt;manipulate: to intentionally control or influence someone or something&lt;/li&gt;
  &lt;li&gt;domesticate: to purposefully breed wild animals so they can live with or be used by humans&lt;/li&gt;
  &lt;li&gt;口が回らないのはもちろん，単語も聞き取れなくなっている．前日の夜に予習，翌朝受講の習慣をつけよう．&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;20180611&quot;&gt;20180611&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://app.eikaiwa.dmm.com/daily-news/article/ai-farm-robot-designed-to-reduce-herbicide-use/5HGEimVuEeikiEMkZY11HA&quot;&gt;AI Farm Robot Designed to Reduce Herbicide Use&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;weed: a wild plant that grows where it is not wanted&lt;/li&gt;
  &lt;li&gt;herbicide: a chemical used to kill weeds&lt;/li&gt;
  &lt;li&gt;除草剤を自動で撒くAIの話．&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;20180613&quot;&gt;20180613&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;忙しかったので10分だけフリートークをしてもらった．&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;20180615&quot;&gt;20180615&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://app.eikaiwa.dmm.com/daily-news/article/new-apple-software-helps-limit-smartphone-use/1Vx06mo9EeiIaU-1bPoGZA&quot;&gt;New Apple Software Helps Limit Smartphone Use&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;cut back (on): to start doing less of something because it is bad for you&lt;/li&gt;
  &lt;li&gt;発音について，かなり丁寧に指導してもらった．
    &lt;ul&gt;
      &lt;li&gt;r，l，oの発音．特に&lt;code class=&quot;highlighter-rouge&quot;&gt;because&lt;/code&gt;を発音するときに&lt;code class=&quot;highlighter-rouge&quot;&gt;/ow/&lt;/code&gt;となってしまうくせがあるとのこと．気をつけないと．&lt;/li&gt;
      &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;the&lt;/code&gt;を&lt;code class=&quot;highlighter-rouge&quot;&gt;/thee/&lt;/code&gt;と読むときと&lt;code class=&quot;highlighter-rouge&quot;&gt;/thuh/&lt;/code&gt;と読むときの違いについて．知識としては知っているけど，実際の会話になるとつい忘れてしまう．&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;会話中に思いつかなかったフレーズ：
    &lt;ul&gt;
      &lt;li&gt;kill the time：時間を潰す．（It kills out time）&lt;/li&gt;
      &lt;li&gt;pass the time：時間を潰す．（It helps pass our time）&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;20180619&quot;&gt;20180619&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://app.eikaiwa.dmm.com/daily-news/article/the-future-of-drones-is-flying-ahead/HOV57mi7EeiTlAvv42-rRA&quot;&gt;The Future of Drones is Flying Ahead&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;parcel：小包&lt;/li&gt;
  &lt;li&gt;long-haul：長距離&lt;/li&gt;
  &lt;li&gt;bill：議案&lt;/li&gt;
  &lt;li&gt;shortage in labor：人手不足&lt;/li&gt;
  &lt;li&gt;発音をかなり丁寧に指摘してくれる人だった．やはり，/r/と/l/の発音が難しい．継続的な練習が必要．&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;20180622&quot;&gt;20180622&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://app.eikaiwa.dmm.com/daily-news/article/google-bans-use-of-ai-technology-for-weapons/9R_BXm_LEeit56coaNijlw&quot;&gt;Google Bans Use of AI Technology for Weapons&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;特に難しい単語はなかった．&lt;/li&gt;
  &lt;li&gt;先生めちゃくちゃいい人でとても楽しかった．&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;20180623&quot;&gt;20180623&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://app.eikaiwa.dmm.com/daily-news/article/the-healing-power-of-pets/iv7WrmseEeip-ovbozMF5w&quot;&gt;The Healing Power of Pets&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;unconditional: not having any conditions or limits&lt;/li&gt;
  &lt;li&gt;incorporate: to include something as a part of something else&lt;/li&gt;
  &lt;li&gt;schizophrenia: a long-term mental disorder of a type involving a breakdown in the relation between thought, emotion, and behavior, leading to faulty perception, inappropriate actions and feelings, withdrawal from reality and personal relationships into fantasy and delusion, and a sense of mental fragmentation.&lt;/li&gt;
  &lt;li&gt;bipolar disorder: (of psychiatric illness) characterized by both manic and depressive episodes, or manic ones only&lt;/li&gt;
  &lt;li&gt;好きな動物はなにかと聞かれて，柴犬と即答した．&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;20180624&quot;&gt;20180624&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;やる気が出なかったので，10分だけフリートークしてもらった．&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;20180625&quot;&gt;20180625&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://app.eikaiwa.dmm.com/daily-news/article/sleeping-in-on-weekends-might-save-your-life/I5usOHEkEeiCFu9NSPuYbg&quot;&gt;Sleeping In On Weekends Might Save Your Life&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;sleep in: to sleep until later in the morning than you usually do&lt;/li&gt;
  &lt;li&gt;deficit: the difference between the amount of something that someone has and the amount that they need&lt;/li&gt;
  &lt;li&gt;replenish: to make something full again&lt;/li&gt;
  &lt;li&gt;ritual: 儀式，習慣．&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;20180627&quot;&gt;20180627&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://app.eikaiwa.dmm.com/daily-news/article/estonia-rolls-out-free-public-transport/TRDIUHEkEeiCX5eNi4SQLA&quot;&gt;Estonia Rolls out Free Public Transport&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;roll out: to introduce something new&lt;/li&gt;
  &lt;li&gt;発音に関して結構コメントしてもらった：
    &lt;ul&gt;
      &lt;li&gt;situation：sit-wey-syun&lt;/li&gt;
      &lt;li&gt;introduce：/du/&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;20180630&quot;&gt;20180630&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://app.eikaiwa.dmm.com/daily-news/article/pho-ramen-or-soba-googles-noodle-report/1AdepHhQEei-ZS8JoVIL8A&quot;&gt;Pho, Ramen or Soba? Google’s ‘Noodle Report’&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;buckwheat: そば粉&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Sat, 30 Jun 2018 00:00:00 +0900</pubDate>
        <link>http://localhost:4000/2018/06/30/dmm-english</link>
        <guid isPermaLink="true">http://localhost:4000/2018/06/30/dmm-english</guid>
        
        
        <category>english</category>
        
      </item>
    
      <item>
        <title>Light GBMを使うとOMPエラーでカーネルが死ぬ</title>
        <description>&lt;p&gt;業務でも趣味でもよく&lt;a href=&quot;https://github.com/Microsoft/LightGBM&quot;&gt;Light GBM&lt;/a&gt;にお世話になっているが，この前手元のMacで使おうとしたら&lt;code class=&quot;highlighter-rouge&quot;&gt;Dead kernel&lt;/code&gt;エラーが発生した．&lt;code class=&quot;highlighter-rouge&quot;&gt;conda&lt;/code&gt;で入れたLight GBMを一旦アンインストールして，&lt;a href=&quot;https://lightgbm.readthedocs.io/en/latest/Installation-Guide.html&quot;&gt;Installation Guide - LightGBM&lt;/a&gt;に従って再インストールしたら解決した．&lt;/p&gt;

&lt;h1 id=&quot;環境&quot;&gt;環境&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;macOS Sierra：10.12.6&lt;/li&gt;
  &lt;li&gt;Python：3.6.5&lt;/li&gt;
  &lt;li&gt;lightgbm：2.1.0&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;症状&quot;&gt;症状&lt;/h1&gt;

&lt;script src=&quot;https://gist.github.com/haltaro/9ac6d0e11a96deed56cb8b57a0543838.js&quot;&gt;&lt;/script&gt;

&lt;h1 id=&quot;解決策&quot;&gt;解決策&lt;/h1&gt;

&lt;p&gt;公式のインストールガイドに従わず，&lt;code class=&quot;highlighter-rouge&quot;&gt;$ conda install -c conda-forge lightgbm&lt;/code&gt;で落としたのが原因っぽい．一旦&lt;code class=&quot;highlighter-rouge&quot;&gt;$ conda uninstall lightgbm&lt;/code&gt;して，&lt;a href=&quot;https://lightgbm.readthedocs.io/en/latest/Installation-Guide.html&quot;&gt;Installation Guide - LightGBM&lt;/a&gt;に従ってインストールした．&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/haltaro/f2d55efbd91a731c31cdf910b2a6b854.js&quot;&gt;&lt;/script&gt;

&lt;p&gt;なお，&lt;a href=&quot;https://lightgbm.readthedocs.io/en/latest/Installation-Guide.html&quot;&gt;Installation Guide - LightGBM&lt;/a&gt;では&lt;code class=&quot;highlighter-rouge&quot;&gt;export CXX=g++-7 CC=gcc-7&lt;/code&gt;だが，手元の環境に合わせてバージョンを変更する必要があることに注意．&lt;/p&gt;

&lt;h1 id=&quot;参考&quot;&gt;参考&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/dmlc/xgboost/issues/1715&quot;&gt;OMP: Error #15: Initializing libiomp5.dylib, but found libiomp5.dylib already initialized. #1715 - GitHub&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://lightgbm.readthedocs.io/en/latest/Installation-Guide.html&quot;&gt;Installation Guide - LightGBM&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Fri, 22 Jun 2018 00:00:00 +0900</pubDate>
        <link>http://localhost:4000/2018/06/22/dead-kernel-lgbm</link>
        <guid isPermaLink="true">http://localhost:4000/2018/06/22/dead-kernel-lgbm</guid>
        
        
        <category>machine learning</category>
        
      </item>
    
      <item>
        <title>PythonとLight GBMで遊ぶNotebookを作った</title>
        <description>&lt;p&gt;知り合いから「プログラミングしたことないけどLight GBMを使ってみたい．2時間くらいで教えてくれ」と言われた．2時間だと理論面をカバーするのは難しいので，とりあえず触ってみることを目標に，Pythonおよび関連ライブラリの基礎（のさらにごく一部）でさくっと遊ぶ&lt;a href=&quot;https://github.com/haltaro/intro-to-lightgbm&quot;&gt;Notebook&lt;/a&gt;を作った．勉強会当日は一緒に動かしながらレクチャーする予定．&lt;/p&gt;

&lt;h1 id=&quot;対象者&quot;&gt;対象者&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;統計的な専門用語（平均，分散，相関係数，平均二乗誤差，等々）に馴染みがある．&lt;/li&gt;
  &lt;li&gt;Excelでデータ分析をしたことがある．&lt;/li&gt;
  &lt;li&gt;Pythonどころか，プログラミング自体の経験がない．&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;初学者を対象とするため，用語の厳密さよりもわかりやすさを重視した．&lt;/p&gt;

&lt;h1 id=&quot;レポジトリ&quot;&gt;レポジトリ&lt;/h1&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/haltaro/intro-to-lightgbm&quot;&gt;haltaro/intro-to-lightgbm - GitHub&lt;/a&gt;&lt;/p&gt;

&lt;h1 id=&quot;make_dataipynb&quot;&gt;&lt;a href=&quot;https://github.com/haltaro/intro-to-lightgbm/blob/master/20180616.make_data.ipynb&quot;&gt;make_data.ipynb&lt;/a&gt;&lt;/h1&gt;

&lt;p&gt;データ加工を行う自分用のNotebook．Bostonデータは，&lt;code class=&quot;highlighter-rouge&quot;&gt;sklearn&lt;/code&gt;から直接ダウンロードできるが，より実務に近い使い方をしてもらうため，一旦csvファイルに加工した．また，回帰問題だけでなく識別問題にも触れてもらいたいということで&lt;code class=&quot;highlighter-rouge&quot;&gt;seaborn&lt;/code&gt;から&lt;code class=&quot;highlighter-rouge&quot;&gt;titanic&lt;/code&gt;をcsvファイルとして保存した．カテゴリカル変数は，その対応方法も体験して欲しかったので敢えてそのまま残している&lt;sup id=&quot;fnref:1&quot;&gt;&lt;a href=&quot;#fn:1&quot; class=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;．&lt;/p&gt;

&lt;h1 id=&quot;intro_to_pythonipynb&quot;&gt;&lt;a href=&quot;https://github.com/haltaro/intro-to-lightgbm/blob/master/20180617.intro_to_python.ipynb&quot;&gt;intro_to_python.ipynb&lt;/a&gt;&lt;/h1&gt;

&lt;p&gt;Pythonの基本の基本から，&lt;code class=&quot;highlighter-rouge&quot;&gt;numpy&lt;/code&gt;，&lt;code class=&quot;highlighter-rouge&quot;&gt;matplotlib&lt;/code&gt;，&lt;code class=&quot;highlighter-rouge&quot;&gt;pandas&lt;/code&gt;，&lt;code class=&quot;highlighter-rouge&quot;&gt;sklearn&lt;/code&gt;，そして&lt;code class=&quot;highlighter-rouge&quot;&gt;lightgbm&lt;/code&gt;で遊べる構成にした．以下はその詳細である．&lt;/p&gt;

&lt;h2 id=&quot;jupyter-notebook&quot;&gt;Jupyter notebook&lt;/h2&gt;

&lt;p&gt;そもそもJupyter notebookに馴染みがないと思うので，簡単に操作方法を記載した．&lt;/p&gt;

&lt;h2 id=&quot;python基本の基本&quot;&gt;Python：基本の基本&lt;/h2&gt;

&lt;p&gt;時間に限りがあるので，データ分析に特化して，四則演算，変数への代入，リスト操作，ループ，条件分岐について記載した．これでなんとなくわかった気になってほしい．&lt;/p&gt;

&lt;h2 id=&quot;numpy&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;numpy&lt;/code&gt;&lt;/h2&gt;

&lt;p&gt;ベクトル，行列，および統計量の計算方法を記載した．&lt;/p&gt;

&lt;h2 id=&quot;matplotlib&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;matplotlib&lt;/code&gt;&lt;/h2&gt;

&lt;p&gt;折れ線グラフ，散布図，棒グラフ，ヒストグラムの表示方法を記載した．&lt;/p&gt;

&lt;h2 id=&quot;pandas&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;pandas&lt;/code&gt;&lt;/h2&gt;

&lt;p&gt;データの読み込み，統計量の計算，ソート，フィルタリング，&lt;code class=&quot;highlighter-rouge&quot;&gt;numpy.array&lt;/code&gt;への変換方法等を記載した．&lt;/p&gt;

&lt;h2 id=&quot;sklearn&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;sklearn&lt;/code&gt;&lt;/h2&gt;

&lt;p&gt;線形回帰モデル&lt;code class=&quot;highlighter-rouge&quot;&gt;LinearRegressor&lt;/code&gt;や平均絶対誤差の計算方法を記載した．&lt;/p&gt;

&lt;h2 id=&quot;lightgbm&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;lightgbm&lt;/code&gt;&lt;/h2&gt;

&lt;p&gt;学習方法，ハイパーパラメータのチューニング方法などを記載した．&lt;/p&gt;

&lt;h1 id=&quot;感想&quot;&gt;感想&lt;/h1&gt;

&lt;p&gt;これで十分だとは全く思っていないが，なんとなく雰囲気を掴む程度のものはできたと思う．これをきっかけに興味を持ってくれたら嬉しい．勉強会でフィードバックがあったらNotebookを修正したい．&lt;/p&gt;
&lt;div class=&quot;footnotes&quot;&gt;
  &lt;ol&gt;
    &lt;li id=&quot;fn:1&quot;&gt;
      &lt;p&gt;結局，時間切れで&lt;code class=&quot;highlighter-rouge&quot;&gt;titanic&lt;/code&gt;データで遊ぶ部分は作れなかった． &lt;a href=&quot;#fnref:1&quot; class=&quot;reversefootnote&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;
</description>
        <pubDate>Sun, 17 Jun 2018 00:00:00 +0900</pubDate>
        <link>http://localhost:4000/2018/06/17/intro-to-lightgbm</link>
        <guid isPermaLink="true">http://localhost:4000/2018/06/17/intro-to-lightgbm</guid>
        
        
        <category>machine learning</category>
        
      </item>
    
      <item>
        <title>OpenSSLが古すぎてbundle updateできない</title>
        <description>&lt;p&gt;&lt;a href=&quot;https://haltaro.github.io/2018/06/16/jekyll-algolia&quot;&gt;Algoliaで全文検索機能を実装&lt;/a&gt;するために&lt;code class=&quot;highlighter-rouge&quot;&gt;Gemfile&lt;/code&gt;を書き換えて&lt;code class=&quot;highlighter-rouge&quot;&gt;$ bundle update&lt;/code&gt;したところ，&lt;code class=&quot;highlighter-rouge&quot;&gt;OpenSSL&lt;/code&gt;が古すぎると叱られた．&lt;a href=&quot;https://bundler.io/guides/rubygems_tls_ssl_troubleshooting_guide.html#the-solutions&quot;&gt;How to troubleshoot RubyGems and Bundler TLS/SSL Issues - Bundler Docs&lt;/a&gt;を参考に対応したら解決した．&lt;/p&gt;

&lt;h1 id=&quot;症状&quot;&gt;症状&lt;/h1&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;bundle update&lt;/code&gt;したら，次のようなエラーが出た．&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/haltaro/659ab18c1adf3992c6d77d017bd7e370.js&quot;&gt;&lt;/script&gt;

&lt;p&gt;よく見たら，冒頭に以下のような警告が．&lt;code class=&quot;highlighter-rouge&quot;&gt;OpenSSL&lt;/code&gt;のバージョンが古すぎるのが原因らしい．&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/haltaro/553c23ad838f043c81d208afd84b10ab.js&quot;&gt;&lt;/script&gt;

&lt;h1 id=&quot;対応記録&quot;&gt;対応記録&lt;/h1&gt;

&lt;p&gt;ほぼ原因はわかっていたが，念の為&lt;a href=&quot;https://bundler.io/guides/rubygems_tls_ssl_troubleshooting_guide.html#the-solutions&quot;&gt;How to troubleshoot RubyGems and Bundler TLS/SSL Issues - Bundler Docs&lt;/a&gt;を参考に以下のテストを実行した．&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/haltaro/e337be914ab33cde81fb2313f14e382d.js&quot;&gt;&lt;/script&gt;

&lt;p&gt;すると，案の定，&lt;code class=&quot;highlighter-rouge&quot;&gt;OpenSSL&lt;/code&gt;のバージョンが古いことがわかった．&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/haltaro/a2c798d8d1a2429cb1b42ac81dad3458.js&quot;&gt;&lt;/script&gt;

&lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/30741367/ruby-using-wrong-version-of-openssl?utm_medium=organic&amp;amp;utm_source=google_rich_qa&amp;amp;utm_campaign=google_rich_qa&quot;&gt;Ruby using wrong version of openssl&lt;/a&gt;を参考に以下を実行した．&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/haltaro/e9be5079025e1c04f5bd9af81a8cba9b.js&quot;&gt;&lt;/script&gt;

&lt;p&gt;すると&lt;code class=&quot;highlighter-rouge&quot;&gt;brew reinstall openssl&lt;/code&gt;しろと怒られた．&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/haltaro/ffe682173c1cc3c8ae980157bfd73427.js&quot;&gt;&lt;/script&gt;

&lt;p&gt;これで再度&lt;code class=&quot;highlighter-rouge&quot;&gt;$ ruby -ropen-uri -e 'eval open(&quot;https://git.io/vQhWq&quot;).read'&lt;/code&gt;にトライしたが，解決せず．&lt;a href=&quot;https://bundler.io/guides/rubygems_tls_ssl_troubleshooting_guide.html#the-solutions&quot;&gt;How to troubleshoot RubyGems and Bundler TLS/SSL Issues - Bundler Docs&lt;/a&gt;のThe Solutionsに記載されている他のコマンドを試してみた．&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/haltaro/98c4a5495aa8acea2232cfab11af960a.js&quot;&gt;&lt;/script&gt;

&lt;p&gt;解決した．&lt;/p&gt;

&lt;h1 id=&quot;感想&quot;&gt;感想&lt;/h1&gt;

&lt;p&gt;Ruby力が低いため，具体的にどのコマンドが解決の鍵だったのかよくわからなかった．ただ，この機会に&lt;code class=&quot;highlighter-rouge&quot;&gt;bundle update&lt;/code&gt;と&lt;code class=&quot;highlighter-rouge&quot;&gt;bundle install&lt;/code&gt;の違いを理解できたので良かった．&lt;/p&gt;
</description>
        <pubDate>Sat, 16 Jun 2018 00:00:00 +0900</pubDate>
        <link>http://localhost:4000/2018/06/16/too-old-openssl</link>
        <guid isPermaLink="true">http://localhost:4000/2018/06/16/too-old-openssl</guid>
        
        
        <category>ruby</category>
        
      </item>
    
      <item>
        <title>JekyllにAlgoliaで全文検索機能を実装する</title>
        <description>&lt;p&gt;本サイトに待望の&lt;a href=&quot;https://haltaro.github.io/search/&quot;&gt;全文検索機能を実装&lt;/a&gt;した．Algolia社の&lt;a href=&quot;https://community.algolia.com/docsearch/&quot;&gt;DocSearch&lt;/a&gt;の審査に通らなかったので，同社の&lt;a href=&quot;https://www.algolia.com/pricing&quot;&gt;Free hacker plan&lt;/a&gt;を利用した．&lt;/p&gt;

&lt;iframe width=&quot;100%&quot; height=&quot;480&quot; src=&quot;https://www.youtube.com/embed/iBIoajzYWGE?rel=0&quot; frameborder=&quot;0&quot; allow=&quot;autoplay; encrypted-media&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;

&lt;h1 id=&quot;algolia&quot;&gt;Algolia&lt;/h1&gt;

&lt;p&gt;Algoliaは，リアルタイム検索をSaaSで提供するサービス群．今回は，&lt;a href=&quot;https://community.algolia.com/docsearch/&quot;&gt;DocSearch&lt;/a&gt;および&lt;a href=&quot;https://www.algolia.com/pricing&quot;&gt;Free hacker plan&lt;/a&gt;の利用を検討した．&lt;/p&gt;

&lt;h2 id=&quot;docsearch&quot;&gt;DocSearch&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;https://community.algolia.com/docsearch/&quot;&gt;DocSearch申請用ページ&lt;/a&gt;で登録したURLが審査に通ると，Algoliaのクローラが自動でインデックスファイルを構築し，検索用APIを公開してくれるという，ゆとりには嬉しいサービス．何を隠そう&lt;a href=&quot;https://jekyllrb.com/&quot;&gt;Jekyll&lt;/a&gt;の検索システムもこれで実装されている．今回は残念ながら審査に通らなかった&lt;sup id=&quot;fnref:japanese&quot;&gt;&lt;a href=&quot;#fn:japanese&quot; class=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;ので，&lt;a href=&quot;https://www.algolia.com/pricing&quot;&gt;Free hacker plan&lt;/a&gt;を利用することにした．&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2018-06-16-docsearch.png&quot; alt=&quot;docsearch&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;free-hacker-plan&quot;&gt;Free hacker plan&lt;/h2&gt;

&lt;p&gt;自力で作成したインデックスファイルをAlgoliaにアップロードし，検索用APIを利用するプラン．マスターデータは1万件まで登録でき，APIを月10万回まで利用できる．&lt;a href=&quot;https://blog.leko.jp/post/implement-site-search-with-algolia/&quot;&gt;Algoliaを利用してサイト内検索機能を実装する - WEB EGG&lt;/a&gt;によると，上限をオーバーすると検索もコンテンツの追加もできなくなるみたい．月1万PV程度のブログでギリギリ足りない感じらしいので，本ウェブサイトなら余裕である&lt;sup id=&quot;fnref:sad&quot;&gt;&lt;a href=&quot;#fn:sad&quot; class=&quot;footnote&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;．&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2018-06-16-hacker.png&quot; alt=&quot;hacker&quot; /&gt;&lt;/p&gt;

&lt;p&gt;幸い，&lt;a href=&quot;https://community.algolia.com/jekyll-algolia/&quot;&gt;Jekyll向けのプラグイン&lt;/a&gt;があるため，私でも簡単に実装できた．以下に手順を示す．&lt;/p&gt;

&lt;h1 id=&quot;手順&quot;&gt;手順&lt;/h1&gt;

&lt;p&gt;以下は基本的に&lt;a href=&quot;https://community.algolia.com/jekyll-algolia/&quot;&gt;Algolia for Jekyll - Algolia&lt;/a&gt;および&lt;a href=&quot;https://community.algolia.com/jekyll-algolia/blog.html&quot;&gt;Blog search -  Algolia for Jekyll&lt;/a&gt;に則っているが，ウェブサイトの一貫性を保つために一部のコードを修正している．&lt;/p&gt;

&lt;h2 id=&quot;algoliaのユーザ登録&quot;&gt;Algoliaのユーザ登録&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;https://www.algolia.com/&quot;&gt;Algolia&lt;/a&gt;からサインアップする．以降の処理で，ダッシュボードの&lt;code class=&quot;highlighter-rouge&quot;&gt;Application ID&lt;/code&gt;，&lt;code class=&quot;highlighter-rouge&quot;&gt;Search-Only API Key&lt;/code&gt;，および&lt;code class=&quot;highlighter-rouge&quot;&gt;Admin API Key&lt;/code&gt;が必要なのでメモしておく．&lt;/p&gt;

&lt;h2 id=&quot;jekyll-algliaの設定&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;jekyll-alglia&lt;/code&gt;の設定&lt;/h2&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Gemfile&lt;/code&gt;に以下を追記し，&lt;code class=&quot;highlighter-rouge&quot;&gt;$ bundle update&lt;/code&gt;する．&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/haltaro/bc3a34adff021f762373f452f2aad4e7.js&quot;&gt;&lt;/script&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;_config.yml&lt;/code&gt;に&lt;code class=&quot;highlighter-rouge&quot;&gt;jekyll-algolia&lt;/code&gt;の設定を追加する．&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/haltaro/af5b24ac877c78a8d2230f903f429b8c.js&quot;&gt;&lt;/script&gt;

&lt;h2 id=&quot;インデックスの作成とアップロード&quot;&gt;インデックスの作成とアップロード&lt;/h2&gt;

&lt;p&gt;シェルで以下を実行する．&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/haltaro/7602fed4d47e0062ed2779fc5070e4f9.js&quot;&gt;&lt;/script&gt;

&lt;p&gt;ここで，&lt;code class=&quot;highlighter-rouge&quot;&gt;Admin API Key&lt;/code&gt;はローカルで保管する必要がある．間違ってGitHub等にアップしないように注意．以降は，検索窓の実装に入る．&lt;/p&gt;

&lt;h2 id=&quot;_layoutssearchhtml&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;_layouts/search.html&lt;/code&gt;&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;https://community.algolia.com/jekyll-algolia/blog.html&quot;&gt;Blog search -  Algolia for Jekyll&lt;/a&gt;の&lt;code class=&quot;highlighter-rouge&quot;&gt;search.html&lt;/code&gt;を参考にした．ただし，本ウェブサイトのベーステーマである&lt;a href=&quot;https://github.com/bencentra/centrarium&quot;&gt;Centrarium&lt;/a&gt;と整合するよう，一部に手を加えた．&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/haltaro/1c1f54a75dff0ce897373d2d6450310c.js&quot;&gt;&lt;/script&gt;

&lt;h2 id=&quot;_includesalgoliahtml&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;_includes/algolia.html&lt;/code&gt;&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;https://community.algolia.com/jekyll-algolia/blog.html&quot;&gt;Blog search -  Algolia for Jekyll&lt;/a&gt;の&lt;code class=&quot;highlighter-rouge&quot;&gt;algolia.html&lt;/code&gt;を参考にした．&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/haltaro/17c7d07fdd56f07c80735e0328ecfbe0.js&quot;&gt;&lt;/script&gt;

&lt;h2 id=&quot;searchmd&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;search.md&lt;/code&gt;&lt;/h2&gt;

&lt;p&gt;全文検索用の&lt;a href=&quot;https://haltaro.github.io/search/&quot;&gt;Search&lt;/a&gt;ページを作成するために，以下の&lt;code class=&quot;highlighter-rouge&quot;&gt;search.md&lt;/code&gt;ファイルを作成した．&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/haltaro/c30ebf72374a701767ebc55fe33a898a.js&quot;&gt;&lt;/script&gt;

&lt;h1 id=&quot;感想&quot;&gt;感想&lt;/h1&gt;

&lt;p&gt;これで，本ウェブサイトに欲しかった機能はあらかた実装してしまった．結構書きたい（書かないと忘れてしまいそうな）ことが溜まってきたので，しばらくは統計・機械学習のノウハウや理論を書いていきたい．&lt;/p&gt;

&lt;h1 id=&quot;参考&quot;&gt;参考&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.algolia.com/&quot;&gt;Algolia - Algolia&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://community.algolia.com/docsearch/&quot;&gt;DocSearch - Algolia&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://community.algolia.com/jekyll-algolia/&quot;&gt;Algolia for Jekyll - Algolia&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://blog.leko.jp/post/implement-site-search-with-algolia/&quot;&gt;Algoliaを利用してサイト内検索機能を実装する - WEB EGG&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://rs.luminousspice.com/hugo-site-search/&quot;&gt;Hugo に全文検索を取り付けた - the Right Stuff&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;footnotes&quot;&gt;
  &lt;ol&gt;
    &lt;li id=&quot;fn:japanese&quot;&gt;
      &lt;p&gt;Algolia社が定める”technical documentation site”ではないと，丁寧なお祈りメールが来た．そもそも日本語だと通りづらいんじゃないか． &lt;a href=&quot;#fnref:japanese&quot; class=&quot;reversefootnote&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:sad&quot;&gt;
      &lt;p&gt;月1000PVくらい． &lt;a href=&quot;#fnref:sad&quot; class=&quot;reversefootnote&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;
</description>
        <pubDate>Sat, 16 Jun 2018 00:00:00 +0900</pubDate>
        <link>http://localhost:4000/2018/06/16/jekyll-algolia</link>
        <guid isPermaLink="true">http://localhost:4000/2018/06/16/jekyll-algolia</guid>
        
        
        <category>jekyll</category>
        
      </item>
    
      <item>
        <title>CentrariumのPostsをCategoriesにリネームする</title>
        <description>&lt;p&gt;近々，全文検索機能を実装し，現在の&lt;code class=&quot;highlighter-rouge&quot;&gt;Posts&lt;/code&gt;ページに配置しようと考えている．とは言え，現在の&lt;code class=&quot;highlighter-rouge&quot;&gt;Posts&lt;/code&gt;ページの&lt;code class=&quot;highlighter-rouge&quot;&gt;categories&lt;/code&gt;一覧は便利なので，できれば残したい．そこで，一旦&lt;code class=&quot;highlighter-rouge&quot;&gt;Posts&lt;/code&gt;ページを&lt;code class=&quot;highlighter-rouge&quot;&gt;Categories&lt;/code&gt;ページとしてリネームして退避することにした．&lt;/p&gt;

&lt;h1 id=&quot;手順&quot;&gt;手順&lt;/h1&gt;

&lt;h2 id=&quot;postshtml&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;posts.html&lt;/code&gt;&lt;/h2&gt;

&lt;p&gt;まず，&lt;code class=&quot;highlighter-rouge&quot;&gt;posts.html&lt;/code&gt;を&lt;code class=&quot;highlighter-rouge&quot;&gt;categories.html&lt;/code&gt;にリネームする．フロントマターを次のように変更する．&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/haltaro/e2141c3a1062d73eb53588fba394ac8d.js&quot;&gt;&lt;/script&gt;

&lt;h2 id=&quot;indexhtml&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;index.html&lt;/code&gt;&lt;/h2&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;index.html&lt;/code&gt;で列挙される，各ポストのカテゴリへのリンク先を，&lt;code class=&quot;highlighter-rouge&quot;&gt;/posts/#&lt;/code&gt;から&lt;code class=&quot;highlighter-rouge&quot;&gt;/categories/#&lt;/code&gt;に変更する．&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/haltaro/59920969396317c8f64d86bbdf020105.js&quot;&gt;&lt;/script&gt;

&lt;h2 id=&quot;_layoutsposthtml&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;_layouts/post.html&lt;/code&gt;&lt;/h2&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;_layouts/post.html&lt;/code&gt;
の各カテゴリへのリンク先を，&lt;code class=&quot;highlighter-rouge&quot;&gt;/posts/#&lt;/code&gt;から&lt;code class=&quot;highlighter-rouge&quot;&gt;/categories/#&lt;/code&gt;に変更する．&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/haltaro/9d53778f905f71f938592957a3efaae8.js&quot;&gt;&lt;/script&gt;

</description>
        <pubDate>Fri, 15 Jun 2018 00:00:00 +0900</pubDate>
        <link>http://localhost:4000/2018/06/15/rename-permalinks</link>
        <guid isPermaLink="true">http://localhost:4000/2018/06/15/rename-permalinks</guid>
        
        
        <category>jekyll</category>
        
      </item>
    
      <item>
        <title>Centrariumのjekyll-archives問題を回避する</title>
        <description>&lt;p&gt;このウェブサイトのベーステーマである&lt;a href=&quot;https://github.com/bencentra/centrarium&quot;&gt;Centrarium&lt;/a&gt;は，非常に完成度が高く，使い勝手が良いテーマである．しかし，私の力不足のため，&lt;a href=&quot;https://haltaro.github.io/2018/02/11/theme-change&quot;&gt;内部で利用されているjekyll-archivesがまともに動作せず&lt;/a&gt;，各ポストのカテゴリリンク先が正しく貼れていなかった．いろいろ試した結果，&lt;code class=&quot;highlighter-rouge&quot;&gt;_config.yml&lt;/code&gt;で&lt;code class=&quot;highlighter-rouge&quot;&gt;jekyll-archives&lt;/code&gt;を無効化したら，すべての問題が解決したのでメモしておく．&lt;/p&gt;

&lt;h1 id=&quot;環境&quot;&gt;環境&lt;/h1&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Gemfile&lt;/code&gt;は以下のような感じ．&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/haltaro/cb98944347875e62bdb072503bf9a0a5.js&quot;&gt;&lt;/script&gt;

&lt;h1 id=&quot;手順&quot;&gt;手順&lt;/h1&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;_config.yml&lt;/code&gt;における，&lt;code class=&quot;highlighter-rouge&quot;&gt;jekyll-archives&lt;/code&gt;関連のすべての設定をコメントアウトする．&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/haltaro/43b5d125344d139b15eb51c1177e21ed.js&quot;&gt;&lt;/script&gt;

&lt;p&gt;これだけでOK．各ポストのカテゴリリンク先は，&lt;code class=&quot;highlighter-rouge&quot;&gt;/posts/#&lt;/code&gt;に向けて貼られるようになる．これは，&lt;code class=&quot;highlighter-rouge&quot;&gt;index.html&lt;/code&gt;や&lt;code class=&quot;highlighter-rouge&quot;&gt;_layouts/post.html&lt;/code&gt;において次のようにリンク先を指定しているため．&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/haltaro/78b00c5d648473f1546f6ca677ec7135.js&quot;&gt;&lt;/script&gt;

&lt;h1 id=&quot;感想&quot;&gt;感想&lt;/h1&gt;

&lt;p&gt;カテゴリごとに独立したページを作成したいわけではないので，この対応で十分．&lt;/p&gt;
</description>
        <pubDate>Fri, 15 Jun 2018 00:00:00 +0900</pubDate>
        <link>http://localhost:4000/2018/06/15/jekyll-archives</link>
        <guid isPermaLink="true">http://localhost:4000/2018/06/15/jekyll-archives</guid>
        
        
        <category>jekyll</category>
        
      </item>
    
      <item>
        <title>UCOMにAirMacを接続してWifi環境を構築する</title>
        <description>&lt;p&gt;引越し先のマンションがUcomに契約していたので，壁付けのコンセントにLANケーブルを繋げばインターネットに接続できる．手持ちのAirMac Time Capsuleで無線LAN環境を構築したかったが，ネット上に情報が少なく，めちゃくちゃ苦戦した．試行錯誤の記録を残しておく．&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;2018年6月19日追記&lt;/strong&gt;：接続がめちゃくちゃ不安定で，Skype英会話がまともにできない．おそらくNAT設定が原因だと思う．&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;2018年7月7日追記&lt;/strong&gt;：&lt;code class=&quot;highlighter-rouge&quot;&gt;AirMacユーティリティ&lt;/code&gt;&amp;gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;ネットワーク&lt;/code&gt;&amp;gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;ルーターモード&lt;/code&gt;で&lt;code class=&quot;highlighter-rouge&quot;&gt;切（ブリッジモード&lt;/code&gt;に変更したら，すべての問題が解決した．ややこしいのは，最初にブリッジモードにしたときは複数台のデバイスを接続できなかったこと．&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h1 id=&quot;環境&quot;&gt;環境&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;UCOM光レジデンス LAN配線方式&lt;/li&gt;
  &lt;li&gt;AirMac Time Capsule 7.6.9&lt;/li&gt;
  &lt;li&gt;MacBook Pro，macOS Sierra（10.12.6）&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2018-06-10-lan.png&quot; alt=&quot;lan&quot; /&gt;&lt;/p&gt;

&lt;h1 id=&quot;設定&quot;&gt;設定&lt;/h1&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;AirMacユーティリティ &amp;gt; AirMac Time Capsule &amp;gt; 編集&lt;/code&gt;を押す．&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2018-06-10-utility.png&quot; alt=&quot;utility&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;インターネット&lt;/code&gt;タブを選択して，&lt;a href=&quot;https://help.ucom.ne.jp/type002/internet/dnsip/index.html&quot;&gt;インターネット接続の設定 - UCOM&lt;/a&gt;をもとに最寄りのDNSサーバアドレスを設定する．&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2018-06-10-internet.png&quot; alt=&quot;internet&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;ワイヤレス&lt;/code&gt;タブを選択して，設定を確認する．私の場合は，特に設定を変更する必要は無かった．&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2018-06-10-wireless.png&quot; alt=&quot;wireless&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;ネットワーク&lt;/code&gt;タブを選択して，&lt;code class=&quot;highlighter-rouge&quot;&gt;ルーターモード&lt;/code&gt;として&lt;code class=&quot;highlighter-rouge&quot;&gt;DHCPとNAT&lt;/code&gt;を選択する．&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://support.ucom.ne.jp/downloads/manual/100tebiki.pdf&quot;&gt;UCOM 光 レジデンス ご利用の手引き- UCOM&lt;/a&gt;等によると，ブリッジモードでないとうまく接続できないとのことだったが，これだと設定用のMacBookと他の端末（iPhone）を同時に接続できなかった．&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://discussionsjapan.apple.com/thread/10170959&quot;&gt;一台しか接続できない - Apple コミュニティ&lt;/a&gt;によると，MacBookがグローバルIPアドレスを専有してるのが原因っぽい．ネットワークが不安定なるリスクがあった&lt;sup id=&quot;fnref:stable&quot;&gt;&lt;a href=&quot;#fn:stable&quot; class=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;が，今回は&lt;code class=&quot;highlighter-rouge&quot;&gt;DHCPとNAT&lt;/code&gt;を選択した．&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2018-06-10-network.png&quot; alt=&quot;network&quot; /&gt;&lt;/p&gt;

&lt;p&gt;これで&lt;code class=&quot;highlighter-rouge&quot;&gt;アップデート&lt;/code&gt;を押す．&lt;code class=&quot;highlighter-rouge&quot;&gt;システム環境設定 &amp;gt; ネットワーク&lt;/code&gt;では，「Wi-Fiに自己割り当てIPアドレス&lt;script type=&quot;math/tex&quot;&gt;\blacksquare&lt;/script&gt;.&lt;script type=&quot;math/tex&quot;&gt;\blacksquare&lt;/script&gt;.&lt;script type=&quot;math/tex&quot;&gt;\blacksquare&lt;/script&gt;.&lt;script type=&quot;math/tex&quot;&gt;\blacksquare&lt;/script&gt;が設定されているためインターネットに接続できません。」と叱られるが，MacBookもiPhoneも同時に接続できている．もう疲れたので無視することにした．&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2018-06-10-warning.png&quot; alt=&quot;warning&quot; /&gt;&lt;/p&gt;

&lt;h1 id=&quot;それでも繋がらないときは&quot;&gt;それでも繋がらないときは&lt;/h1&gt;

&lt;p&gt;実際，以上の設定を行っても一発では繋がらなかった．以下をいろいろ試すうちにいつの間にか繋がったので，ご参考までに．&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;AirMacを再起動する．&lt;/li&gt;
  &lt;li&gt;LANの接続口を変更する．どうやら，口ごとにIPアドレスが割り振られているっぽい．上位NW装置でどのような制御が行われているか不明だが，口を変えると一発で認証が通ることがあった．&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;参考&quot;&gt;参考&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://discussionsjapan.apple.com/thread/10170959&quot;&gt;一台しか接続できない - Apple コミュニティ&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://fmmzk.hateblo.jp/entry/2014/07/10/120654&quot;&gt;“Wi-Fi”に自己割り当てのIP アドレスが設定されており、インターネットに接続できない可能性がありましたら - Jaì³üÉ&amp;gt;L(î)&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://support.ucom.ne.jp/downloads/manual/simple_tebiki.pdf&quot;&gt;UCOM光 レジデンス【シンプルタイプ】ご利用の手引き -UCOM &lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://support.ucom.ne.jp/downloads/manual/100tebiki.pdf&quot;&gt;UCOM 光 レジデンス ご利用の手引き- UCOM&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://help.ucom.ne.jp/type002/internet/dnsip/index.html&quot;&gt;インターネット接続の設定 - UCOM&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;footnotes&quot;&gt;
  &lt;ol&gt;
    &lt;li id=&quot;fn:stable&quot;&gt;
      &lt;p&gt;実際昼間は何回か途切れているみたい &lt;a href=&quot;#fnref:stable&quot; class=&quot;reversefootnote&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;
</description>
        <pubDate>Sun, 10 Jun 2018 00:00:00 +0900</pubDate>
        <link>http://localhost:4000/2018/06/10/ucom-airmac</link>
        <guid isPermaLink="true">http://localhost:4000/2018/06/10/ucom-airmac</guid>
        
        
        <category>network</category>
        
      </item>
    
  </channel>
</rss>
