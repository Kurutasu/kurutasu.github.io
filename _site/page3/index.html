<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Memotaro</title>
  <meta name="description" content="I'm haltaro, a researcher from Tokyo, Japan. My research interests include machine learning, marketing science, network engineering and shiba-inu:)">
  
  <meta name="author" content="haltaro">
  <meta name="copyright" content="&copy; haltaro 2018">
  

  <!-- External libraries -->
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/zenburn.min.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/lightbox2/2.7.1/css/lightbox.css">
  <!-- Mathjax -->
  <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  <!-- BotUI -->
  <link rel="stylesheet" href="/css/botui.min.css" >
  <link rel="stylesheet" href="/css/botui-theme-default.css" >

  <!-- Favicon and other icons (made with http://www.favicon-generator.org/) -->
  <!--
  <link rel="shortcut icon" href="/assets/icons/favicon.ico" type="image/x-icon">
  <link rel="icon" href="/assets/icons/favicon.ico" type="image/x-icon">
  <link rel="apple-touch-icon" sizes="57x57" href="/assets/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/assets/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/assets/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/assets/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/assets/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/assets/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/assets/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/assets/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192"  href="/assets/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/assets/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/icons/favicon-16x16.png">
-->
  <link rel="icon" href="/assets/logo.png">
  <link rel="apple-touch-icon" href="/assets/logo.png">

  <link rel="manifest" href="/assets/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/assets/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">

  
  <!-- Facebook OGP cards -->
  <meta property="og:description" content="I'm haltaro, a researcher from Tokyo, Japan. My research interests include machine learning, marketing science, network engineering and shiba-inu:)" />
  <meta property="og:url" content="https://haltaro.github.io" />
  <meta property="og:site_name" content="Memotaro" />
  <meta property="og:title" content="Memotaro" />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="https://haltaro.github.io/assets/logo.png" />
  <meta property="og:image:type" content="image/png" />
  <meta property="og:image:width" content="612" />
  <meta property="og:image:height" content="605" />
  

  
  <!-- Twitter: card tags -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Memotaro">
  <meta name="twitter:description" content="I'm haltaro, a researcher from Tokyo, Japan. My research interests include machine learning, marketing science, network engineering and shiba-inu:)">
  <meta name="twitter:image" content="https://haltaro.github.io/assets/logo.png">
  <meta name="twitter:url" content="https://haltaro.github.io">
  

  

  <!-- Site styles -->
  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://haltaro.github.io/page3/">
  <link rel="alternate" type="application/rss+xml" title="Memotaro" href="https://haltaro.github.io/feed.xml" />
</head>


  <body>

    <header class="navigation" role="banner">
  <div class="navigation-wrapper">
    <a href="/" class="logo">
      
      <img src="/assets/logo.png" alt="Memotaro">
      
    </a>
    <a href="javascript:void(0)" class="navigation-menu-button" id="js-mobile-menu">
      <i class="fa fa-bars"></i>
    </a>
    <nav role="navigation">
      <ul id="js-navigation-menu" class="navigation-menu show">
        
          
          <li class="nav-link"><a href="/about/">About</a>
          
        
          
        
          
        
          
        
          
          <li class="nav-link"><a href="/posts/">Posts</a>
          
        
          
          <li class="nav-link"><a href="/projects/">Projects</a>
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      </ul>
    </nav>
  </div>
</header>


    <div class="page-content">
        <div class="home">

<div class="site-header-container has-cover" style="background-image: url(/assets/cover_image.jpg);">
  <div class="scrim has-cover">
    <header class="site-header">
      <h1 class="title">Memotaro</h1>
      <p class="subtitle">Haltaro's technical memorandum</p>
    </header>
  </div>
</div>

<div class="wrapper">
<ul class="post-list">
  
  <li>
    <h2>
      <a class="post-link" href="/2018/02/18/effective-python">Brett Slatkin，Effective Python</a>
    </h2>
    <section class="post-excerpt" itemprop="description">
      <!--<p>更新中：Brett Slatkin，Effective Python ―Pythonプログラムを改良する59項目を読む．Pythonを効率的に書くための59のヒントが紹介されている． 特に心に残った項目を以下にまとめる．Jupyter notebookはこちら． 1章．Pythonic thinking リスト内包表記には，3つ以上の式を避ける リスト内包表記に毒されすぎて，もとの表記の何がわかりづらいのか，また修正された表記でわかりやすくなったのかピンとこない．気をつけないと． 大きな内包表記にはジェネレータ式を考える イテレータとジェネレータについては，Pythonのイテレータとジェネレータ - Qiitaがわかりやすい． try/except/else/finallyの各ブロックを活用する except：エラーが補足された場合の処理． else：エラーが捕捉されなかった場合の処理． finally：エラーの捕捉にかかわらず，最後に実行される処理． 2章．関数 Noneを返すよりは例外を選ぶ Noneと，0や空白文字などの他の値がすべて条件式においてFalseと評価されるため，エラーを引き起こしやすい．それはそうと，raise from構文がよくわからない．あとで確認しよう． クロージャが変数スコープとどう関わるか知っておく クロージャとは，関数内の変数の名前解決が，その関数が宣言されたときのスコープで行われるもの．Python Tips： Python でクロージャを使いたい - Life with pythonがとてもわかりやすい． ちなみにここで登場した特殊メソッド__call__(self)は，クラスのインスタンスを関数っぽく呼び出したときに動作するもの．Pythonのクラスにおける__call__メソッドの使い方 - Qiitaがわかりやすい． リストを返さずにジェネレータを返すことを考える これはやってしまいがち．例えばtext中の単語のインデックスを返す関数は次のように定義できる．su ジェネレータを使うと，リストで返すよりもコードが明確になる．また，作業メモリに全ての入出力を保持する必要がないので，どのような長さの入力に対しても出力シーケンスを生成できる． 引数に対してイテレータを使うときには確実さを尊ぶ StopIteration例外が起きたあとのジェネレータをもう一度反復した場合，難の例外も発生しない．つまり，出力のないイテレータと，出力があったが尽きてしまったイテレータを区別できない． よって，関数にイテレータを渡した場合，奇妙な振る舞いや欠損値を生む可能性がある．コンテナとイテレータを区別する方法として，組み込み関数iter()に二度突っ込んで同じ結果が出るか確認する方法がある． イテレータとジェネレータとコンテナの関係については，Python: ジェネレータをイテレータから理解する - CUBE SUGAR CONTAINERがわかりやすい． 可変長引数を使って，見た目をすっきりさせる def function(*arg)と定義すると，引数は可変長であり，内部でタプルとして処理される．またdef function(**arg)と定義すると，やはり引数は可変長であり，内部で辞書型として処理される．pythonの引数にある*hogeとか**mapとか...</p>-->
      <p><p><i class="fa fa-spinner"></i> <strong>更新中</strong>：<a href="http://amzn.asia/gDvdj6b">Brett Slatkin，Effective Python ―Pythonプログラムを改良する59項目</a>を読む．<a href="https://www.python.org/">Python</a>を効率的に書くための59のヒントが紹介されている．</p>

</p>
    </section>
    <section class="post-meta">
      <div class="post-date">February 18, 2018</div>
      <div class="post-categories">
      in 
        
        <a href="/category/python">Python</a>
        
      
      </div>
    </section>
  </li>
  
  <hr>
  
  
  <li>
    <h2>
      <a class="post-link" href="/2018/02/17/fish">Ubuntu 16.04にFish環境を構築する</a>
    </h2>
    <section class="post-excerpt" itemprop="description">
      <!--<p>Fish（Frendly Interactive SHell）とは，シェルの一種．デフォルトのタブ保管が便利なので，Macでは重宝している．ローカルのUbuntuデスクトップでも使いたくなり，環境を構築することにした． Fish本体に加え，パッケージ管理ツールのFisherman，FishテーマBobthefish，およびPowerlineフォントを導入した．また，ターミナルエミュレータTerminatorのフォントをPowerline系に変更した．慣れてきたら，FishをデフォルトShellに設定しようと思う． 環境 Ubuntu 16.04 Terminator：1.9.1 手順 Fishインストール 自宅のubuntu-16.04マシンのシェルをfishに変更した - takapi86のブログを参考にした．ppaを追加しないと，最新版のFishをインストールできず，後述するBobthefishのインストールでハマるので注意． Fishermanインストール fisherman/fisherman - GitHubを参考にした． Bobthefishインストール fish shell を使いたい人生だった - Developers.IOを参考にした． Powerlineインストール powerline/fonts - GitHubを参考にした． Terminatorのフォント変更 ターミナルエミュレータ “Terminator” の背景を半透明にする - ablogを参考にした． Terminatorのウインドウ上で右クリックして，Preferenceを選択する． Profiles &gt; Fontで任意のフォントを選択する． 結果 こんな感じになった． 感想 想定よりずっと簡単に導入できた．唯一の不満は，FishはBashと文法が違うこと．デフォルトシェルにするためには，設定ファイル.bashrcを翻訳する必要がある…．いつかやる． 参考 自宅のubuntu-16.04マシンのシェルをfishに変更した - takapi86のブログ fisherman/fisherman - GitHub oh-my-fish/theme-bobthefish -...</p>-->
      <p><p><a href="https://fishshell.com/">Fish</a>（Frendly Interactive SHell）とは，シェルの一種．デフォルトのタブ保管が便利なので，Macでは重宝している．ローカルのUbuntuデスクトップでも使いたくなり，環境を構築することにした．</p>

</p>
    </section>
    <section class="post-meta">
      <div class="post-date">February 17, 2018</div>
      <div class="post-categories">
      in 
        
        <a href="/category/shell">Shell</a>
        
      
      </div>
    </section>
  </li>
  
  <hr>
  
  
  <li>
    <h2>
      <a class="post-link" href="/2018/02/17/data-driven">マーク・ジェフリー，データ・ドリブン・マーケティング</a>
    </h2>
    <section class="post-excerpt" itemprop="description">
      <!--<p>マーク・ジェフリー，データ・ドリブン・マーケティング - 最低限知っておくべき15の指標を読んだ．どうやら原著は2010年1月に発刊されたらしく，古さを感じる部分があるが，勉強のとっかかりとして基本を押さえるには良いと思った． 概要 かつて，マーケティング施策は定量評価が難しいという風潮があったため，行動に対して評価されることが多かった．そこで本書では，マーケティング施策を定量的に評価するための15の指標と，これらを用いた施策管理方法を紹介する． 1. マーケティング格差 フォーチュン100社に含まれる大企業の中でさえ，マーケティング格差が存在する（2010年当時）． 2. 何から始めるべきか？ データ・ドリブン・マーケティングの障壁として，次の5点がある： 何から手を付ければいいかわからない：まずは小さくはじめて，成功事例を積み上げること． 因果関係がわかならい：適切な指標を使うこと．また，対照実験を行うこと． データが足りない：B2B企業は，代理店にデータ共有のメリットを示すこと． 経営資源やツールが足りない：頑張って絞り出すこと． 組織や人に問題がある：小さく仲間づくりを始めること．可能であれば，役員も巻き込むこと． データ・ドリブン・マーケティングを実践するロードマップ： 設計：関係者が理解しやすい明解な実行計画． 診断：事実把握および洞察． 機会：マーケティング機会の特定とアクションプラン． ツール：定期的なレビューを行う組織体制の構築． プロセス：定期的なレビューに基づく意思決定． 3. 10の伝統的なマーケティング指標 ブランド認知率：商品やサービスの想起で計測する．大規模調査をする予算がない場合は，カスタムURLなどを用いてリーチを計測する． 試乗（お試し）：比較検討・評価段階の指標．試乗など，購入前の商品のお試し使用で評価する． 解約（離反）率：ロイヤルティ指標．解約率や離反率．年単位で計算されることが多い． 顧客満足度：CSAT（Customer Satisfaction）．マーケティングの黄金指標．「友人にこの商品を勧めますか」というアンケートで計測される． オファー応諾率：マーケティング施策の運用効率を表す指標． 利益：売上高 - 費用． 正味現在価値：NPV（Net Present Value）．複利割引した将来的な利益の総和．NPVが正になる施策は実行する価値がある． 内部収益率：IRR（Internal Rate of Return）．NVPが正になるための，利益の割引率． 投資回収期間：売上高が費用を上回るまでにかかる期間． 顧客価値指標：CLTV（Customer Lifetime Value）．当該顧客の将来的な価値を複利割引して総和したもの．CLTVが高い顧客は優良顧客である． 4. 5つの重要な非財務系指標 ブランド認知率，試乗（お試し），解約（離反）率，顧客満足度，オファー応諾率を詳説する． 3年間の離反率を1年間の離反率に換算するとき，単純に3で割っていいんだっけ？三乗根とかじゃないの？ ​優れたロイヤルティマーケティングとは，企業の経済的負担が少なく，かつ顧客への価値提供が大きい施策． ​...</p>-->
      <p><p><a href="http://amzn.asia/6WKHTCO">マーク・ジェフリー，データ・ドリブン・マーケティング - 最低限知っておくべき15の指標</a>を読んだ．<a href="http://marketing-base.jp/books/6204">どうやら原著は2010年1月に発刊されたらしく</a>，古さを感じる部分があるが，勉強のとっかかりとして基本を押さえるには良いと思った．</p>

</p>
    </section>
    <section class="post-meta">
      <div class="post-date">February 17, 2018</div>
      <div class="post-categories">
      in 
        
        <a href="/category/marketing">Marketing</a>
        
      
      </div>
    </section>
  </li>
  
  <hr>
  
  
  <li>
    <h2>
      <a class="post-link" href="/2018/02/11/theme-change">Jekyll themeをCentrariumに変更する</a>
    </h2>
    <section class="post-excerpt" itemprop="description">
      <!--<p>3連休を利用して，本サイトのJekyll themeをEasyBookからCentrariumに変更した．意識高めのアフィブログみたいになってしまったが，個人的には気に入っている．特にロゴがかわいい． 環境 以下の記事で構築した環境を想定する． JekyllとGitHub Pagesでウェブサイト自作 - Memotaro JekyllでGoogle Analytics - Memotaro Windows7でJekyll+GitHub Pages - Memotaro Jekyllで下書き記事管理 - Memotaro つまり： Ruby Bundler Jekyll：インストールについてはJekyllとGitHub Pagesでウェブサイト自作 - Memotaroを参照されたい． GitHub：haltaro.github.ioレポジトリを作成済み． Google Analytics：トラッキングコードを取得済み．詳細はJekyllでGoogle Analytics - Memotaroを参照されたい． BotUI：botui.min.css，botui-theme-default.css，botui.min.css，botui.min.jsをダウンロードし，botui.min.cssを修正済み．詳細はチャットボットを作ろう：3．CSS修正 - Memotaroを参照されたい． 手順 Centrariumをダウンロード レポジトリから任意のディレクトリにダウンロードする． Bundlerで環境構築 以下のコマンドで環境を整える．エラーが出た場合はその都度対処する． $ cd centrarium $ bundle install _config.ymlの設定変更 個人設定（title，subtitle，email，name，description，url，cover，logo）を変更する．本ウェブサイトはhttps://haltaro.github.io直下に展開されるため，baseurlを""に変更する．また，これまでと一貫したURL構成にするため，permalink: "/:year/:month/:day/:title"を追記する． highlightjs_themeをzenburnに変更する．テーマの詳細はこちら．...</p>-->
      <p><p>3連休を利用して，本サイトの<a href="http://jekyllthemes.org/">Jekyll theme</a>を<a href="https://github.com/laobubu/jekyll-theme-EasyBook">EasyBook</a>から<a href="https://github.com/bencentra/centrarium">Centrarium</a>に変更した．意識高めのアフィブログみたいになってしまったが，個人的には気に入っている．特にロゴがかわいい．</p>

</p>
    </section>
    <section class="post-meta">
      <div class="post-date">February 11, 2018</div>
      <div class="post-categories">
      in 
        
        <a href="/category/jekyll">Jekyll</a>
        
      
      </div>
    </section>
  </li>
  
  <hr>
  
  
  <li>
    <h2>
      <a class="post-link" href="/2018/02/04/chatbot">チャットボットを作ろう：3．CSS修正</a>
    </h2>
    <section class="post-excerpt" itemprop="description">
      <!--<p>BotUIを本サイトのAboutページに埋め込んだが，会話が長くなると二重にスライドバーが表示されて使いづらい．そこで，BotUIのCSSを修正することにした．


  2018/02/11追記：このあと，本サイトのJekyll themeをEasyBookからCentrariumに変更した．詳細はJekyll themeをCentrariumに変更する - Memotaroを参照されたい．


以下は修正前の動作．他に何か質問ありますかあたりから，二重にスライドバーが表示されてしまう．


以下は修正後の動作．他に何か質問ありますか以降もスライドバーが出現することはない．



関連記事はこちら：


  チャットボットを作ろう：1．調査
  チャットボットを作ろう：2．JekyllサイトでBotUI
  チャットボットを作ろう：3．CSS修正


環境


  Easybook：本サイトで利用しているJekyllのテーマ．
  BotUI：JavaScriptだけで動くチャットボットライブラリ．


手順

BotUIのCSSとJavaScriptをローカルに保存

ローカルでBotUIを実行するのに必要なファイルをGitHubからダウンロードする．公式ドキュメントによると，botui.min.cssとbotui-theme-default.cssとbotui.min.jsがあれば良さそう1．Easybookのディレクトリ構造を鑑み，それぞれcss/およびjs/配下に保存する．

botui.min.cssを修正

.botui-app-containerのheight:500pxをコメントアウトし，高さ制限をなくす．



_include/head.htmlを修正

CDNではなく，ローカルのbotui.min.cssとbotui-theme-default.cssを参照する．



_layouts/bot.htmlを修正

CDNではなく，ローカルのbotui.jsを参照する．



結果

こんな感じになった．



参考


  BotUIインストールガイド


  
    
      試行錯誤の結果，botui.min.cssをいじるだけで問題は解決できることが判明したので，全てをダウンロードする必要はなかった． &#8617;
    
  

</p>-->
      <p><p><a href="https://github.com/botui/botui">BotUI</a>を本サイトの<a href="https://haltaro.github.io/about/">Aboutページ</a>に埋め込んだが，会話が長くなると二重にスライドバーが表示されて使いづらい．そこで，BotUIのCSSを修正することにした．</p>

</p>
    </section>
    <section class="post-meta">
      <div class="post-date">February 4, 2018</div>
      <div class="post-categories">
      in 
        
        <a href="/category/javascript">Javascript</a>
        
      
      </div>
    </section>
  </li>
  
  
</ul>

<nav class="pagination" role="navigation">
	<p>
    
			
			<a class="newer-posts" href="/page2">
				<span class="fa-stack fa-lg">
					<i class="fa fa-square fa-stack-2x"></i>
					<i class="fa fa-angle-double-left fa-stack-1x fa-inverse"></i>
				</span>
			</a>
			
		
		<span class="page-number">Page 3 of 10</span>
		
		<a class="newer-posts" href="/page4">
      <span class="fa-stack fa-lg">
        <i class="fa fa-square fa-stack-2x"></i>
        <i class="fa fa-angle-double-right fa-stack-1x fa-inverse"></i>
      </span>
    </a>
		
	</p>
</nav>

</div>
</div>

    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h3 class="footer-heading">Memotaro</h3>

    <div class="site-navigation">

      <p><strong>Site Map</strong></p>
      <ul class="pages">
        
        
          <li class="nav-link"><a href="/about/">About</a>
        
        
        
        
        
        
        
        
        
          <li class="nav-link"><a href="/posts/">Posts</a>
        
        
        
          <li class="nav-link"><a href="/projects/">Projects</a>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
      </ul>
    </div>

    <div class="site-contact">

      <p><strong>Contact</strong></p>
      <ul class="social-media-list">
        <li>
          <a href="mailto:mail.to.haltaro[at]gmail.com">
            <i class="fa fa-envelope-o"></i>
            <span class="username">mail.to.haltaro[at]gmail.com</span>
          </a>
        </li>

        
          
          <li>
            <a href="https://github.com/haltaro" title="Fork me on GitHub">
              <i class="fa fa-github"></i>
              <span class="username">github.com/haltaro</span>
            </a>
          </li>
          
        
          
          <li>
            <a href="https://qiita.com/haltaro" title="Follow me on Qiita">
              <i class="fa fa-search"></i>
              <span class="username">qiita.com/haltaro</span>
            </a>
          </li>
          
        
          
          <li>
            <a href="https://kaggle.com/haltaro" title="Follow me on Kaggle">
              <i class="fa fa-space-shuttle"></i>
              <span class="username">kaggle.com/haltaro</span>
            </a>
          </li>
          
        

      </ul>
    </div>

    <div class="site-signature">
      <p class="rss-subscribe text"><strong>Subscribe <a href="/feed.xml">via RSS</a></strong></p>
      <p class="text">I'm haltaro, a researcher from Tokyo, Japan. My research interests include machine learning, marketing science, network engineering and shiba-inu:)</p>
    </div>

  </div>

</footer>

<!-- Scripts -->
<script src="//code.jquery.com/jquery-1.11.2.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/highlight.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/lightbox2/2.7.1/js/lightbox.min.js"></script>

<script type="text/javascript">
$(document).ready(function() {
  // Default syntax highlighting
  hljs.initHighlightingOnLoad();

  // Header
  var menuToggle = $('#js-mobile-menu').unbind();
  $('#js-navigation-menu').removeClass("show");
  menuToggle.on('click', function(e) {
    e.preventDefault();
    $('#js-navigation-menu').slideToggle(function(){
      if($('#js-navigation-menu').is(':hidden')) {
        $('#js-navigation-menu').removeAttr('style');
      }
    });
  });
});

</script>






    

  </body>

</html>
