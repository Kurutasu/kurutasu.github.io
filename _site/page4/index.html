<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Memotaro</title>
  <meta name="description" content="I'm haltaro, a data scientist at an advertising agency in Tokyo, Japan. I love machine learning, marketing science, network engineering and shiba-inu:)">
  
  <meta name="author" content="haltaro">
  <meta name="copyright" content="&copy; haltaro 2018">
  

  <!-- External libraries -->
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/zenburn.min.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/lightbox2/2.7.1/css/lightbox.css">
  <!-- Mathjax -->
  <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  <!-- BotUI -->
  <link rel="stylesheet" href="/css/botui.min.css" >
  <link rel="stylesheet" href="/css/botui-theme-default.css" >

  <!-- Favicon and other icons (made with http://www.favicon-generator.org/) -->
  <!--
  <link rel="shortcut icon" href="/assets/icons/favicon.ico" type="image/x-icon">
  <link rel="icon" href="/assets/icons/favicon.ico" type="image/x-icon">
  <link rel="apple-touch-icon" sizes="57x57" href="/assets/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/assets/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/assets/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/assets/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/assets/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/assets/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/assets/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/assets/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192"  href="/assets/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/assets/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/icons/favicon-16x16.png">
-->
  <link rel="icon" href="/assets/logo.png">
  <link rel="apple-touch-icon" href="/assets/logo.png">

  <link rel="manifest" href="/assets/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/assets/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">

  
  <!-- Facebook OGP cards -->
  <meta property="og:description" content="I'm haltaro, a data scientist at an advertising agency in Tokyo, Japan. I love machine learning, marketing science, network engineering and shiba-inu:)" />
  <meta property="og:url" content="http://localhost:4000" />
  <meta property="og:site_name" content="Memotaro" />
  <meta property="og:title" content="Memotaro" />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="http://localhost:4000/assets/logo.png" />
  <meta property="og:image:type" content="image/png" />
  <meta property="og:image:width" content="612" />
  <meta property="og:image:height" content="605" />
  

  
  <!-- Twitter: card tags -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Memotaro">
  <meta name="twitter:description" content="I'm haltaro, a data scientist at an advertising agency in Tokyo, Japan. I love machine learning, marketing science, network engineering and shiba-inu:)">
  <meta name="twitter:image" content="http://localhost:4000/assets/logo.png">
  <meta name="twitter:url" content="http://localhost:4000">
  

  

  <!-- Site styles -->
  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://localhost:4000/page4/">
  <link rel="alternate" type="application/rss+xml" title="Memotaro" href="http://localhost:4000/feed.xml" />
</head>


  <body>

    <header class="navigation" role="banner">
  <div class="navigation-wrapper">
    <a href="/" class="logo">
      
      <img src="/assets/logo.png" alt="Memotaro">
      
    </a>
    <a href="javascript:void(0)" class="navigation-menu-button" id="js-mobile-menu">
      <i class="fa fa-bars"></i>
    </a>
    <nav role="navigation">
      <ul id="js-navigation-menu" class="navigation-menu show">
        
          
          <li class="nav-link"><a href="/about/">About</a>
          
        
          
          <li class="nav-link"><a href="/categories/">Categories</a>
          
        
          
        
          
        
          
        
          
          <li class="nav-link"><a href="/projects/">Projects</a>
          
        
          
          <li class="nav-link"><a href="/search/">Search</a>
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      </ul>
    </nav>
  </div>
</header>


    <div class="page-content">
        <div class="home">

<div class="site-header-container has-cover" style="background-image: url(/assets/cover_image.jpg);">
  <div class="scrim has-cover">
    <header class="site-header">
      <h1 class="title">Memotaro</h1>
      <p class="subtitle">Haltaro's technical memorandum</p>
    </header>
  </div>
</div>

<div class="wrapper">
<ul class="post-list">
  
  <li>
    <h2>
      <a class="post-link" href="/2018/07/07/time-series">萩原淳一郎，基礎からわかる時系列分析</a>
    </h2>
    <section class="post-excerpt" itemprop="description">
      <!--<p>萩原淳一郎，基礎からわかる時系列分析 ―Rで実践するカルマンフィルタ・MCMC・粒子フィルターをざっと読んで状態空間モデルを勉強した． 線形・ガウス型の状態空間モデルの場合はカルマンフィルタで解析的に解けるが，一般状態空間モデルの場合は，フィルタリング分布・予測分布・平滑化分布の積分計算を必ずしも解析的に解けない．そこで，MCMCを用いた一括解法や，粒子フィルタによる逐次解法が提案されている．本書のレポジトリは，hagijyun/tsbook - GitHub． カルマンフィルタ，MCMC，粒子フィルタの関係を理解することができた．次はPRMLの下巻を読み返して，MCMCの理論的背景を押さえておきたい． 確率・統計に関する基礎 周辺化消去は，同時分布から外したい変数の影響を，あらかじめ平均的に考慮することに相当する．なるほど，腑に落ちた． 定常過程と非定常過程． 強定常：確率過程の確率分布が時点によらず一定． 弱定常：確率過程の平均・分散・自己共分散・自己相関係数が時点によらず一定． 時系列分析ひとめぐり 五数要約：最小値・25%値・中央値・75%値・最大値．Rだとsummary()で，Python（pandas）だとDataFrame.describe()で確認できる． 自己相関係数．． 時系列データの成分分解：レベル＋傾き＋周期． ホルト・ウィンタース法．指数加重型移動平均（EWMA：Exponentially Weighted Moving Average）の一種．Rでは，HoltWinters()関数で実施できる． 残差を確認して，モデルの妥当性を分析する．残差の自己相関により，周期性を上手く捉えられたか確認できる． 状態空間モデルの解法の分類： 線形・ガウス型状態空間モデル： 一括型解法：ウィナーフィルタ． 逐次型解法：カルマンフィルタ． 一般状態空間モデル： 一括型解法：MCMCを利用した解法． 逐次型解法：粒子フィルタ． 状態空間モデル 方程式による表現： 状態方程式1： 観測方程式： 確率分布による表現： 状態方程式に相当： 観測方程式に相当： 状態空間モデルの同時分布： ARIMAモデルと状態空間モデルは密接な関係がある． 状態空間モデルにおける状態の推定 状態の周辺事後分布： ：平滑化分布 ：フィルタリング分布 ：予測分布 フィルタリング分布： モデルの状態方程式2と，以下の一期先予測分布，一期先予測尤度からなる．直感的には，一期先予測分布を観測方程式で補正して，一期先予測尤度で正規化したもの． 一期先予測分布： 一期先予測尤度3： 予測分布： 定式化： 一期先予測分布をもとに，状態方程式に基いて時間順方向への遷移を解繰り返したもの． 平滑化分布： 定式化：...</p>-->
      <p><p><a href="http://amzn.asia/bTrcjv0">萩原淳一郎，基礎からわかる時系列分析 ―Rで実践するカルマンフィルタ・MCMC・粒子フィルター</a>をざっと読んで状態空間モデルを勉強した．</p>

</p>
    </section>
    <section class="post-meta">
      <div class="post-date">July 7, 2018</div>
      <div class="post-categories">
      in 
        
        <a href="/categories/#statistics">Statistics</a>, 
        
      
        
        <a href="/categories/#books">Books</a>
        
      
      </div>
    </section>
  </li>
  
  <hr>
  
  
  <li>
    <h2>
      <a class="post-link" href="/2018/06/30/dmm-english">DMM英会話受講メモ：2018年6月</a>
    </h2>
    <section class="post-excerpt" itemprop="description">
      <!--<p>DMM英会話の受講メモ．12回/30日なので，4割程度の実施率．仕事の忙しさを考えると，このあたりが現実的な数字かもしれない． 20180609 Gamers Push Limits of Scientific Research tweak：a slight change to something in order to improve it invaluable：extremely useful outreach：the practice of providing help and advice to people before they have to ask for it 二週間ぶりの英会話．口が全然動かない．リハビリが必要． 20180610 Things Your Dog Might Know tilt: 傾き magnetism: 磁気 breed: 品種 deductive:...</p>-->
      <p><p><a href="http://eikaiwa.dmm.com/">DMM英会話</a>の受講メモ．12回/30日なので，4割程度の実施率．仕事の忙しさを考えると，このあたりが現実的な数字かもしれない．</p>

</p>
    </section>
    <section class="post-meta">
      <div class="post-date">June 30, 2018</div>
      <div class="post-categories">
      in 
        
        <a href="/categories/#english">English</a>
        
      
      </div>
    </section>
  </li>
  
  <hr>
  
  
  <li>
    <h2>
      <a class="post-link" href="/2018/06/22/dead-kernel-lgbm">Light GBMを使うとOMPエラーでカーネルが死ぬ</a>
    </h2>
    <section class="post-excerpt" itemprop="description">
      <!--<p>業務でも趣味でもよくLight GBMにお世話になっているが，この前手元のMacで使おうとしたらDead kernelエラーが発生した．condaで入れたLight GBMを一旦アンインストールして，Installation Guide - LightGBMに従って再インストールしたら解決した． 環境 macOS Sierra：10.12.6 Python：3.6.5 lightgbm：2.1.0 症状 解決策 公式のインストールガイドに従わず，$ conda install -c conda-forge lightgbmで落としたのが原因っぽい．一旦$ conda uninstall lightgbmして，Installation Guide - LightGBMに従ってインストールした． なお，Installation Guide - LightGBMではexport CXX=g++-7 CC=gcc-7だが，手元の環境に合わせてバージョンを変更する必要があることに注意． 参考 OMP: Error #15: Initializing libiomp5.dylib, but found libiomp5.dylib already initialized. #1715 - GitHub Installation Guide - LightGBM...</p>-->
      <p><p>業務でも趣味でもよく<a href="https://github.com/Microsoft/LightGBM">Light GBM</a>にお世話になっているが，この前手元のMacで使おうとしたら<code class="highlighter-rouge">Dead kernel</code>エラーが発生した．<code class="highlighter-rouge">conda</code>で入れたLight GBMを一旦アンインストールして，<a href="https://lightgbm.readthedocs.io/en/latest/Installation-Guide.html">Installation Guide - LightGBM</a>に従って再インストールしたら解決した．</p>

</p>
    </section>
    <section class="post-meta">
      <div class="post-date">June 22, 2018</div>
      <div class="post-categories">
      in 
        
        <a href="/categories/#machine learning">Machine learning</a>
        
      
      </div>
    </section>
  </li>
  
  <hr>
  
  
  <li>
    <h2>
      <a class="post-link" href="/2018/06/17/intro-to-lightgbm">PythonとLight GBMで遊ぶNotebookを作った</a>
    </h2>
    <section class="post-excerpt" itemprop="description">
      <!--<p>知り合いから「プログラミングしたことないけどLight GBMを使ってみたい．2時間くらいで教えてくれ」と言われた．2時間だと理論面をカバーするのは難しいので，とりあえず触ってみることを目標に，Pythonおよび関連ライブラリの基礎（のさらにごく一部）でさくっと遊ぶNotebookを作った．勉強会当日は一緒に動かしながらレクチャーする予定．

対象者


  統計的な専門用語（平均，分散，相関係数，平均二乗誤差，等々）に馴染みがある．
  Excelでデータ分析をしたことがある．
  Pythonどころか，プログラミング自体の経験がない．


初学者を対象とするため，用語の厳密さよりもわかりやすさを重視した．

レポジトリ

haltaro/intro-to-lightgbm - GitHub

make_data.ipynb

データ加工を行う自分用のNotebook．Bostonデータは，sklearnから直接ダウンロードできるが，より実務に近い使い方をしてもらうため，一旦csvファイルに加工した．また，回帰問題だけでなく識別問題にも触れてもらいたいということでseabornからtitanicをcsvファイルとして保存した．カテゴリカル変数は，その対応方法も体験して欲しかったので敢えてそのまま残している1．

intro_to_python.ipynb

Pythonの基本の基本から，numpy，matplotlib，pandas，sklearn，そしてlightgbmで遊べる構成にした．以下はその詳細である．

Jupyter notebook

そもそもJupyter notebookに馴染みがないと思うので，簡単に操作方法を記載した．

Python：基本の基本

時間に限りがあるので，データ分析に特化して，四則演算，変数への代入，リスト操作，ループ，条件分岐について記載した．これでなんとなくわかった気になってほしい．

numpy

ベクトル，行列，および統計量の計算方法を記載した．

matplotlib

折れ線グラフ，散布図，棒グラフ，ヒストグラムの表示方法を記載した．

pandas

データの読み込み，統計量の計算，ソート，フィルタリング，numpy.arrayへの変換方法等を記載した．

sklearn

線形回帰モデルLinearRegressorや平均絶対誤差の計算方法を記載した．

lightgbm

学習方法，ハイパーパラメータのチューニング方法などを記載した．

感想

これで十分だとは全く思っていないが，なんとなく雰囲気を掴む程度のものはできたと思う．これをきっかけに興味を持ってくれたら嬉しい．勉強会でフィードバックがあったらNotebookを修正したい．

  
    
      結局，時間切れでtitanicデータで遊ぶ部分は作れなかった． &#8617;
    
  

</p>-->
      <p><p>知り合いから「プログラミングしたことないけどLight GBMを使ってみたい．2時間くらいで教えてくれ」と言われた．2時間だと理論面をカバーするのは難しいので，とりあえず触ってみることを目標に，Pythonおよび関連ライブラリの基礎（のさらにごく一部）でさくっと遊ぶ<a href="https://github.com/haltaro/intro-to-lightgbm">Notebook</a>を作った．勉強会当日は一緒に動かしながらレクチャーする予定．</p>

</p>
    </section>
    <section class="post-meta">
      <div class="post-date">June 17, 2018</div>
      <div class="post-categories">
      in 
        
        <a href="/categories/#machine learning">Machine learning</a>, 
        
      
        
        <a href="/categories/#python">Python</a>
        
      
      </div>
    </section>
  </li>
  
  <hr>
  
  
  <li>
    <h2>
      <a class="post-link" href="/2018/06/16/too-old-openssl">OpenSSLが古すぎてbundle updateできない</a>
    </h2>
    <section class="post-excerpt" itemprop="description">
      <!--<p>Algoliaで全文検索機能を実装するためにGemfileを書き換えて$ bundle updateしたところ，OpenSSLが古すぎると叱られた．How to troubleshoot RubyGems and Bundler TLS/SSL Issues - Bundler Docsを参考に対応したら解決した． 症状 bundle updateしたら，次のようなエラーが出た． よく見たら，冒頭に以下のような警告が．OpenSSLのバージョンが古すぎるのが原因らしい． 対応記録 ほぼ原因はわかっていたが，念の為How to troubleshoot RubyGems and Bundler TLS/SSL Issues - Bundler Docsを参考に以下のテストを実行した． すると，案の定，OpenSSLのバージョンが古いことがわかった． Ruby using wrong version of opensslを参考に以下を実行した． するとbrew reinstall opensslしろと怒られた． これで再度$ ruby -ropen-uri -e 'eval open("https://git.io/vQhWq").read'にトライしたが，解決せず．How to troubleshoot RubyGems and Bundler...</p>-->
      <p><p><a href="https://haltaro.github.io/2018/06/16/jekyll-algolia">Algoliaで全文検索機能を実装</a>するために<code class="highlighter-rouge">Gemfile</code>を書き換えて<code class="highlighter-rouge">$ bundle update</code>したところ，<code class="highlighter-rouge">OpenSSL</code>が古すぎると叱られた．<a href="https://bundler.io/guides/rubygems_tls_ssl_troubleshooting_guide.html#the-solutions">How to troubleshoot RubyGems and Bundler TLS/SSL Issues - Bundler Docs</a>を参考に対応したら解決した．</p>

</p>
    </section>
    <section class="post-meta">
      <div class="post-date">June 16, 2018</div>
      <div class="post-categories">
      in 
        
        <a href="/categories/#ruby">Ruby</a>
        
      
      </div>
    </section>
  </li>
  
  
</ul>

<nav class="pagination" role="navigation">
	<p>
    
			
			<a class="newer-posts" href="/page3">
				<span class="fa-stack fa-lg">
					<i class="fa fa-square fa-stack-2x"></i>
					<i class="fa fa-angle-double-left fa-stack-1x fa-inverse"></i>
				</span>
			</a>
			
		
		<span class="page-number">Page 4 of 15</span>
		
		<a class="newer-posts" href="/page5">
      <span class="fa-stack fa-lg">
        <i class="fa fa-square fa-stack-2x"></i>
        <i class="fa fa-angle-double-right fa-stack-1x fa-inverse"></i>
      </span>
    </a>
		
	</p>
</nav>

</div>
</div>

    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h3 class="footer-heading">Memotaro</h3>

    <div class="site-navigation">

      <p><strong>Site Map</strong></p>
      <ul class="pages">
        
        
          <li class="nav-link"><a href="/about/">About</a>
        
        
        
          <li class="nav-link"><a href="/categories/">Categories</a>
        
        
        
        
        
        
        
        
        
          <li class="nav-link"><a href="/projects/">Projects</a>
        
        
        
          <li class="nav-link"><a href="/search/">Search</a>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
      </ul>
    </div>

    <div class="site-contact">

      <p><strong>Contact</strong></p>
      <ul class="social-media-list">
        <li>
          <a href="mailto:mail.to.haltaro[at]gmail.com">
            <i class="fa fa-envelope-o"></i>
            <span class="username">mail.to.haltaro[at]gmail.com</span>
          </a>
        </li>

        
          
          <li>
            <a href="https://github.com/haltaro" title="Fork me on GitHub">
              <i class="fa fa-github"></i>
              <span class="username">github.com/haltaro</span>
            </a>
          </li>
          
        
          
          <li>
            <a href="https://qiita.com/haltaro" title="Follow me on Qiita">
              <i class="fa fa-search"></i>
              <span class="username">qiita.com/haltaro</span>
            </a>
          </li>
          
        
          
          <li>
            <a href="https://kaggle.com/haltaro" title="Follow me on Kaggle">
              <i class="fa fa-space-shuttle"></i>
              <span class="username">kaggle.com/haltaro</span>
            </a>
          </li>
          
        

      </ul>
    </div>

    <div class="site-signature">
      <p class="rss-subscribe text"><strong>Subscribe <a href="/feed.xml">via RSS</a></strong></p>
      <p class="text">I'm haltaro, a data scientist at an advertising agency in Tokyo, Japan. I love machine learning, marketing science, network engineering and shiba-inu:)</p>
    </div>

  </div>

</footer>

<!-- Scripts -->
<script src="//code.jquery.com/jquery-1.11.2.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/highlight.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/lightbox2/2.7.1/js/lightbox.min.js"></script>

<script type="text/javascript">
$(document).ready(function() {
  // Default syntax highlighting
  hljs.initHighlightingOnLoad();

  // Header
  var menuToggle = $('#js-mobile-menu').unbind();
  $('#js-navigation-menu').removeClass("show");
  menuToggle.on('click', function(e) {
    e.preventDefault();
    $('#js-navigation-menu').slideToggle(function(){
      if($('#js-navigation-menu').is(':hidden')) {
        $('#js-navigation-menu').removeAttr('style');
      }
    });
  });
});

</script>






    

  </body>

</html>
